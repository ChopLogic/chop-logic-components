import{r,j as _}from"./iframe-CcStb-xO.js";import{g as N}from"./get-class-name-CHDn80c0.js";const I="_editableText_82asy_1",w="_editableText__editMode_82asy_17",S="_editableText__readOnly_82asy_24",k="_editableText__empty_82asy_27",y={editableText:I,editableText__editMode:w,editableText__readOnly:S,editableText__empty:k},x=({multiline:e,value:l,placeholder:a,onChange:t,onBlur:i,onKeyDown:d,className:n,inputRef:u,...s})=>{const p=e?"textarea":"input",m=r.useCallback(o=>{t(o.target.value)},[t]);return _.jsx(p,{ref:u,value:l,onChange:m,onBlur:i,onKeyDown:d,placeholder:a,className:n,rows:e?3:void 0,...s})};try{x.displayName="EditView",x.__docgenInfo={description:"",displayName:"EditView",props:{multiline:{defaultValue:null,description:"",name:"multiline",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<Element>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!0,type:{name:"RefObject<any>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const E=({value:e,placeholder:l,onClick:a,className:t,...i})=>{const d=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),a(n))};return _.jsx("span",{onClick:a,className:t,role:"button",tabIndex:0,onKeyDown:d,"aria-label":"Editable text",...i,children:e||l})};try{E.displayName="ReadView",E.__docgenInfo={description:"",displayName:"ReadView",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const R=(e,l)=>{const[a,t]=r.useState(!1),[i]=r.useState(e!==void 0);return{editMode:i?!!e:a,enterEditMode:()=>{!i&&!l&&t(!0)},exitEditMode:()=>{i||t(!1)},isControlled:i}},D=(e,l,a,t)=>{r.useEffect(()=>{l&&e.current&&!t&&(e.current.focus(),a&&e.current.select())},[l,a,t,e])},j=(e,l)=>{const[a,t]=r.useState(e);return r.useEffect(()=>{t(e)},[e]),{internalValue:a,updateValue:u=>{t(u)},commitValue:()=>{a!==e&&(l==null||l(a))},resetValue:()=>{t(e)}}},O=({value:e,isEditMode:l,onChange:a,onClick:t,className:i,autoSelectTextOnEditMode:d=!1,multiline:n=!1,placeholder:u="Click to edit...",readOnly:s=!1,...p})=>{const m=r.useRef(null),{editMode:o,enterEditMode:q,exitEditMode:f}=R(l,s),{internalValue:V,updateValue:T,commitValue:g,resetValue:v}=j(e,a);D(m,o,d,s);const h=r.useCallback(c=>{t==null||t(c),q()},[t,q]),b=r.useCallback(()=>{f(),g()},[f,g]),C=r.useCallback(c=>{c.key==="Enter"&&!n&&(c.preventDefault(),b()),c.key==="Escape"&&(v(),f())},[n,b,v,f]),M=N([y.editableText,i,{[y.editableText__editMode]:o,[y.editableText__readOnly]:s,[y.editableText__empty]:!V}]);return o&&!s?_.jsx(x,{multiline:n,value:V,placeholder:u,onChange:T,onBlur:b,onKeyDown:C,className:M,inputRef:m,...p}):_.jsx(E,{value:V,placeholder:u,onClick:h,className:M,...p})};try{EditableText.displayName="EditableText",EditableText.__docgenInfo={description:"",displayName:"EditableText",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},autoSelectTextOnEditMode:{defaultValue:{value:"false"},description:"",name:"autoSelectTextOnEditMode",required:!1,type:{name:"boolean"}},isEditMode:{defaultValue:null,description:"",name:"isEditMode",required:!1,type:{name:"boolean"}},multiline:{defaultValue:{value:"false"},description:"",name:"multiline",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},placeholder:{defaultValue:{value:"Click to edit..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{O as C};
