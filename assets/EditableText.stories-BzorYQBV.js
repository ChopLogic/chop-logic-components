import{r as i,j as b}from"./iframe-DP4TfwvB.js";import{g as w}from"./get-class-name-BY88G7uf.js";const V=({multiline:e,value:n,placeholder:a,onChange:t,onBlur:r,onKeyDown:o,className:l,inputRef:s,...d})=>{const y=e?"textarea":"input",f=i.useCallback(u=>{t(u.target.value)},[t]);return b.jsx(y,{ref:s,value:n,onChange:f,onBlur:r,onKeyDown:o,placeholder:a,className:l,rows:e?3:void 0,...d})};try{V.displayName="EditView",V.__docgenInfo={description:"",displayName:"EditView",props:{multiline:{defaultValue:null,description:"",name:"multiline",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<Element>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!0,type:{name:"RefObject<HTMLInputElement | HTMLTextAreaElement | null>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const E=({value:e,placeholder:n,onClick:a,className:t,...r})=>{const o=l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),a(l))};return b.jsx("span",{onClick:a,className:t,role:"button",tabIndex:0,onKeyDown:o,"aria-label":"Editable text",...r,children:e||n})};try{E.displayName="ReadView",E.__docgenInfo={description:"",displayName:"ReadView",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const T=(e,n)=>{const[a,t]=i.useState(!1),[r]=i.useState(e!==void 0);return{editMode:r?!!e:a,enterEditMode:()=>{!r&&!n&&t(!0)},exitEditMode:()=>{r||t(!1)},isControlled:r}},N=(e,n,a,t)=>{i.useEffect(()=>{n&&e.current&&!t&&(e.current.focus(),a&&e.current.select())},[n,a,t,e])},R=(e,n)=>{const[a,t]=i.useState(e);return i.useEffect(()=>{t(e)},[e]),{internalValue:a,updateValue:s=>{t(s)},commitValue:()=>{a!==e&&n?.(a)},resetValue:()=>{t(e)}}},v=({value:e,isEditMode:n,onChange:a,onClick:t,className:r,autoSelectTextOnEditMode:o=!1,multiline:l=!1,placeholder:s="Click to edit...",readOnly:d=!1,...y})=>{const f=i.useRef(null),{editMode:u,enterEditMode:C,exitEditMode:g}=T(n,d),{internalValue:h,updateValue:M,commitValue:q,resetValue:_}=R(e,a);N(f,u,o,d);const k=i.useCallback(c=>{t?.(c),C()},[t,C]),x=i.useCallback(()=>{g(),q()},[g,q]),I=i.useCallback(c=>{c.key==="Enter"&&!l&&(c.preventDefault(),x()),c.key==="Escape"&&(_(),g())},[l,x,_,g]),S=w(["cl-editable-text",r,{"cl-editable-text_edit-mode":u,"cl-editable-text_read-only":d,"cl-editable-text_empty":!h}]);return u&&!d?b.jsx(V,{multiline:l,value:h,placeholder:s,onChange:M,onBlur:x,onKeyDown:I,className:S,inputRef:f,...y}):b.jsx(E,{value:h,placeholder:s,onClick:k,className:S,...y})};try{v.displayName="EditableText",v.__docgenInfo={description:"",displayName:"EditableText",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},autoSelectTextOnEditMode:{defaultValue:{value:"false"},description:"",name:"autoSelectTextOnEditMode",required:!1,type:{name:"boolean"}},isEditMode:{defaultValue:null,description:"",name:"isEditMode",required:!1,type:{name:"boolean"}},multiline:{defaultValue:{value:"false"},description:"",name:"multiline",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},placeholder:{defaultValue:{value:"Click to edit..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const O={title:"Atoms/EditableText",component:v,argTypes:{value:{control:"text",description:"The current text value of the editable field",table:{type:{summary:"string"},category:"Content"}},placeholder:{control:"text",description:"Placeholder text shown when the value is empty",table:{type:{summary:"string"},category:"Content"}},isEditMode:{control:"boolean",description:"Controls the edit mode state. Use undefined for internal state management",table:{type:{summary:"boolean | undefined"},category:"State"}},readOnly:{control:"boolean",description:"Whether the text is read-only and cannot be edited",table:{type:{summary:"boolean"},category:"State"}},multiline:{control:"boolean",description:"Whether the component should allow multi-line text input",table:{type:{summary:"boolean"},category:"Behavior"}},autoSelectTextOnEditMode:{control:"boolean",description:"Whether to automatically select all text when entering edit mode",table:{type:{summary:"boolean"},category:"Behavior"}},onChange:{action:"changed",description:"Callback function called when the text value changes",table:{type:{summary:"(value: string) => void"},category:"Interaction"}},onClick:{action:"clicked",description:"Callback function called when the component is clicked",table:{type:{summary:"(event: React.MouseEvent) => void"},category:"Interaction"}},title:{control:"text",description:"Tooltip text shown on hover",table:{type:{summary:"string"},category:"Interaction"}},className:{control:"text",description:"Additional CSS class names to apply to the component",table:{type:{summary:"string"},category:"Styling"}},style:{control:"object",description:"Inline CSS styles to apply to the component",table:{type:{summary:"CSSProperties"},category:"Styling"}},id:{control:"text",description:"Unique identifier for the component",table:{type:{summary:"string"},category:"Identification"}},tabIndex:{control:"number",description:"Tab index for keyboard navigation",table:{type:{summary:"number"},category:"Accessibility"}}},args:{value:"Click on the text to edit",id:"editable-text",autoSelectTextOnEditMode:!1,multiline:!1,onChange:e=>console.log("Changed to:",e),onClick:()=>console.log("EditableText is clicked"),placeholder:"Click on the text to edit",readOnly:!1,className:"test-class",isEditMode:void 0}},p={},m={args:{readOnly:!0,value:"This text is read-only"}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:"{}",...p.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    readOnly: true,
    value: 'This text is read-only'
  }
}`,...m.parameters?.docs?.source}}};const j=["Default","ReadOnly"],B=Object.freeze(Object.defineProperty({__proto__:null,Default:p,ReadOnly:m,__namedExportsOrder:j,default:O},Symbol.toStringTag,{value:"Module"}));export{B as E};
