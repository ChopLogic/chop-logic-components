var J=Object.defineProperty,z=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var E=(e,t,a)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var a in t||(t={}))C.call(t,a)&&E(e,a,t[a]);if(_)for(var a of _(t))q.call(t,a)&&E(e,a,t[a]);return e},c=(e,t)=>z(e,B(t));var I=(e,t)=>{var a={};for(var l in e)C.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&_)for(var l of _(e))t.indexOf(l)<0&&q.call(e,l)&&(a[l]=e[l]);return a};import{r as b,j as n}from"./iframe-CNQVeOyN.js";import{C as G}from"./Checkbox-poX9-ohY.js";import{M as U}from"./MultiSelect-jo09E3g0.js";import{N as Z}from"./NumericInput-DBncv4bN.js";import{S as K}from"./Select-BvQDMS8W.js";import{T}from"./TextInput-wqhiK9en.js";import{B as L,a as Q}from"./Button-DdPqlm7A.js";import{I as R}from"./Icon-CGvp8Awk.js";import{g as W}from"./get-class-name-BY88G7uf.js";import{F as X}from"./use-reset-form-input-jjNB94eT.js";import{s as Y}from"./Container.module-DIM0iUPi.js";function ee(e){return e?Object.keys(e).map(t=>[t,!0]):[]}function te(e,t){return(t==null?void 0:t.valid)===void 0?e:e.map(a=>a[0]!==t.name?a:[a[0],!!(t!=null&&t.valid)])}function ae(e){return e.every(t=>t[1])}function ne({initialValues:e,onReset:t,onSubmit:a,onClickSubmit:l}){const[u,s]=b.useState(e),[o,y]=b.useState(ee(e)),[f,F]=b.useState(0);return{handleInputChange:r=>{const m=c(i({},u),{[r.name]:r.value});s(m),y(te(o,r))},handleSubmit:r=>{r.preventDefault();const m=Object.fromEntries(new FormData(r.target)),S=i(i({},m),u);a==null||a(r),l==null||l(S)},handleReset:r=>{t==null||t(r),s(e),F(f+1)},resetSignal:f,valid:ae(o)}}const le="_form_a5bhb_1",se="_buttons_a5bhb_14",h={form:le,buttons:se,"columns-1":"_columns-1_a5bhb_21","buttons-1":"_buttons-1_a5bhb_26","columns-2":"_columns-2_a5bhb_30","buttons-2":"_buttons-2_a5bhb_35","columns-3":"_columns-3_a5bhb_39","buttons-3":"_buttons-3_a5bhb_44","columns-4":"_columns-4_a5bhb_48","buttons-4":"_buttons-4_a5bhb_53","columns-5":"_columns-5_a5bhb_57","buttons-5":"_buttons-5_a5bhb_62","columns-6":"_columns-6_a5bhb_66","buttons-6":"_buttons-6_a5bhb_71"},V=F=>{var g=F,{children:e,initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u,columns:s=1,hasReset:o=!0,className:y}=g,f=I(g,["children","initialValues","onReset","onSubmit","onClickSubmit","columns","hasReset","className"]);const{handleInputChange:x,handleSubmit:v,handleReset:r,resetSignal:m,valid:S}=ne({initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u}),N=s<=6&&s>=1?s:1,A=W([h.form,y]),O=h[`columns-${N}`],$=`${A} ${O}`,H=h[`buttons-${N}`],P=`${h.buttons} ${H}`,k=b.useMemo(()=>({onChangeFormInput:x,initialValues:t,resetSignal:m}),[x,t,m]);return n.jsx("form",c(i({onSubmit:v,onReset:r},f),{className:$,children:n.jsxs(X.Provider,{value:k,children:[e,n.jsxs("div",{className:P,children:[o&&n.jsx(L,{type:"reset",text:"Reset",icon:R.Clear,view:Q.Secondary}),n.jsx(L,{type:"submit",text:"Submit",icon:R.Forward,extended:!o,disabled:!S})]})]})}))};try{V.displayName="Form",V.__docgenInfo={description:"",displayName:"Form",props:{columns:{defaultValue:{value:"1"},description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const re=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],oe=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],d={width:"300px"},j=({columns:e,hasReset:t})=>{const[a,l]=b.useState(),u={firstName:"John",lastName:"Doe",age:42};return n.jsxs("div",{children:[n.jsxs(V,{columns:e,hasReset:t,initialValues:u,onReset:()=>l(void 0),onClickSubmit:s=>l(s),children:[n.jsx(T,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:d}),n.jsx(T,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:d}),n.jsx(Z,{name:"age",label:"Age",validator:s=>!!s&&s>=1&&s<100,errorMessage:"Enter a number between 1 and 99",style:d}),n.jsx(K,{name:"language",label:"Language",options:re,style:d}),n.jsx(U,{name:"programmingLanguages",label:"Programming Languages",options:oe,style:d}),n.jsx(G,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0,style:d})]}),a&&n.jsx("div",{className:Y.container,style:{marginTop:"2rem"},children:n.jsxs("table",{style:{textAlign:"left"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Value"}),n.jsx("th",{children:"Type"})]})}),n.jsx("tbody",{children:Object.entries(a).map(s=>{var o;return n.jsxs("tr",{children:[n.jsx("td",{children:s[0]}),n.jsx("td",{children:(o=s[1])==null?void 0:o.toString()}),n.jsx("td",{children:typeof s[1]})]},s[0])})})]})})]})};try{j.displayName="FormExample",j.__docgenInfo={description:"",displayName:"FormExample",props:{columns:{defaultValue:null,description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const ie={args:{columns:2,hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:e=>console.log(e)},component:j,title:"Organisms/Form"},p={};var M,D,w;p.parameters=c(i({},p.parameters),{docs:c(i({},(M=p.parameters)==null?void 0:M.docs),{source:i({originalSource:"{}"},(w=(D=p.parameters)==null?void 0:D.docs)==null?void 0:w.source)})});const ue=["Example"],Ve=Object.freeze(Object.defineProperty({__proto__:null,Example:p,__namedExportsOrder:ue,default:ie},Symbol.toStringTag,{value:"Module"}));export{Ve as F};
