var O=Object.defineProperty,$=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var E=(e,t,a)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var a in t||(t={}))q.call(t,a)&&E(e,a,t[a]);if(f)for(var a of f(t))C.call(t,a)&&E(e,a,t[a]);return e},c=(e,t)=>$(e,H(t));var I=(e,t)=>{var a={};for(var l in e)q.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&f)for(var l of f(e))t.indexOf(l)<0&&C.call(e,l)&&(a[l]=e[l]);return a};import{r as h,j as n}from"./iframe-hahURQ28.js";import{C as P}from"./Checkbox-DVrhFqVk.js";import{M as k}from"./MultiSelect-C5f3oAGe.js";import{N as J}from"./NumericInput-zQz8eUbj.js";import{S as z}from"./Select-DDaVgjBv.js";import{T}from"./TextInput-kpHMTzza.js";import{B as L,a as B}from"./Button-3ebUih5n.js";import{I as R}from"./Icon-CYZu_F5m.js";import{g as G}from"./get-class-name-CHDn80c0.js";import{F as U}from"./use-reset-form-input-DzoEa7g8.js";import{s as Z}from"./Container.module-DIM0iUPi.js";function K(e){return e?Object.keys(e).map(t=>[t,!0]):[]}function Q(e,t){return(t==null?void 0:t.valid)===void 0?e:e.map(a=>a[0]!==t.name?a:[a[0],!!(t!=null&&t.valid)])}function W(e){return e.every(t=>t[1])}function X({initialValues:e,onReset:t,onSubmit:a,onClickSubmit:l}){const[u,r]=h.useState(e),[o,y]=h.useState(K(e)),[b,j]=h.useState(0);return{handleInputChange:s=>{const d=c(i({},u),{[s.name]:s.value});r(d),y(Q(o,s))},handleSubmit:s=>{s.preventDefault();const d=Object.fromEntries(new FormData(s.target)),x=i(i({},d),u);a==null||a(s),l==null||l(x)},handleReset:s=>{t==null||t(s),r(e),j(b+1)},resetSignal:b,valid:W(o)}}const Y="_form_a5bhb_1",ee="_buttons_a5bhb_14",_={form:Y,buttons:ee,"columns-1":"_columns-1_a5bhb_21","buttons-1":"_buttons-1_a5bhb_26","columns-2":"_columns-2_a5bhb_30","buttons-2":"_buttons-2_a5bhb_35","columns-3":"_columns-3_a5bhb_39","buttons-3":"_buttons-3_a5bhb_44","columns-4":"_columns-4_a5bhb_48","buttons-4":"_buttons-4_a5bhb_53","columns-5":"_columns-5_a5bhb_57","buttons-5":"_buttons-5_a5bhb_62","columns-6":"_columns-6_a5bhb_66","buttons-6":"_buttons-6_a5bhb_71"},S=j=>{var g=j,{children:e,initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u,columns:r=1,hasReset:o=!0,className:y}=g,b=I(g,["children","initialValues","onReset","onSubmit","onClickSubmit","columns","hasReset","className"]);const{handleInputChange:F,handleSubmit:v,handleReset:s,resetSignal:d,valid:x}=X({initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u}),N=r<=6&&r>=1?r:1,A=G([_.form,y]);return n.jsx("form",c(i({onSubmit:v,onReset:s},b),{className:`${A} ${_[`columns-${N}`]}`,children:n.jsxs(U.Provider,{value:{onChangeFormInput:F,initialValues:t,resetSignal:d},children:[e,n.jsxs("div",{className:`${_.buttons} ${_[`buttons-${N}`]}`,children:[o&&n.jsx(L,{type:"reset",text:"Reset",icon:R.Clear,view:B.Secondary}),n.jsx(L,{type:"submit",text:"Submit",icon:R.Forward,extended:!o,disabled:!x})]})]})}))};try{S.displayName="Form",S.__docgenInfo={description:"",displayName:"Form",props:{columns:{defaultValue:{value:"1"},description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const te=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],ae=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],m={width:"300px"},V=({columns:e,hasReset:t})=>{const[a,l]=h.useState(),u={firstName:"John",lastName:"Doe",age:42};return n.jsxs("div",{children:[n.jsxs(S,{columns:e,hasReset:t,initialValues:u,onReset:()=>l(void 0),onClickSubmit:r=>l(r),children:[n.jsx(T,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:m}),n.jsx(T,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:m}),n.jsx(J,{name:"age",label:"Age",validator:r=>!!r&&r>=1&&r<100,errorMessage:"Enter a number between 1 and 99",style:m}),n.jsx(z,{name:"language",label:"Language",options:te,style:m}),n.jsx(k,{name:"programmingLanguages",label:"Programming Languages",options:ae,style:m}),n.jsx(P,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0,style:m})]}),a&&n.jsx("div",{className:Z.container,style:{marginTop:"2rem"},children:n.jsxs("table",{style:{textAlign:"left"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Value"}),n.jsx("th",{children:"Type"})]})}),n.jsx("tbody",{children:Object.entries(a).map(r=>{var o;return n.jsxs("tr",{children:[n.jsx("td",{children:r[0]}),n.jsx("td",{children:(o=r[1])==null?void 0:o.toString()}),n.jsx("td",{children:typeof r[1]})]},r[0])})})]})})]})};try{V.displayName="FormExample",V.__docgenInfo={description:"",displayName:"FormExample",props:{columns:{defaultValue:null,description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const ne={args:{columns:2,hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:e=>console.log(e)},component:V,title:"Organisms/Form"},p={};var D,M,w;p.parameters=c(i({},p.parameters),{docs:c(i({},(D=p.parameters)==null?void 0:D.docs),{source:i({originalSource:"{}"},(w=(M=p.parameters)==null?void 0:M.docs)==null?void 0:w.source)})});const le=["Example"],he=Object.freeze(Object.defineProperty({__proto__:null,Example:p,__namedExportsOrder:le,default:ne},Symbol.toStringTag,{value:"Module"}));export{he as F};
