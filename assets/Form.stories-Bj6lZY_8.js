var P=Object.defineProperty,k=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var E=(e,t,a)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var a in t||(t={}))q.call(t,a)&&E(e,a,t[a]);if(_)for(var a of _(t))C.call(t,a)&&E(e,a,t[a]);return e},c=(e,t)=>k(e,J(t));var I=(e,t)=>{var a={};for(var l in e)q.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&_)for(var l of _(e))t.indexOf(l)<0&&C.call(e,l)&&(a[l]=e[l]);return a};import{r as b,j as n}from"./iframe-CvRPWbsI.js";import{C as z}from"./Checkbox-DRRWwDIX.js";import{M as B}from"./MultiSelect-D7WYWe0N.js";import{N as G}from"./NumericInput-B4OF-Ks_.js";import{S as U}from"./Select-B16XUqQe.js";import{T}from"./TextInput-CmH8-hMy.js";import{B as L,a as Z}from"./Button-BDoRLwTt.js";import{I as R}from"./Icon-D4WeBZx2.js";import{g as K}from"./get-class-name-CHDn80c0.js";import{F as Q}from"./use-reset-form-input-DbHmr6MH.js";import{s as W}from"./Container.module-DIM0iUPi.js";function X(e){return e?Object.keys(e).map(t=>[t,!0]):[]}function Y(e,t){return(t==null?void 0:t.valid)===void 0?e:e.map(a=>a[0]!==t.name?a:[a[0],!!(t!=null&&t.valid)])}function ee(e){return e.every(t=>t[1])}function te({initialValues:e,onReset:t,onSubmit:a,onClickSubmit:l}){const[u,s]=b.useState(e),[o,y]=b.useState(X(e)),[f,F]=b.useState(0);return{handleInputChange:r=>{const m=c(i({},u),{[r.name]:r.value});s(m),y(Y(o,r))},handleSubmit:r=>{r.preventDefault();const m=Object.fromEntries(new FormData(r.target)),S=i(i({},m),u);a==null||a(r),l==null||l(S)},handleReset:r=>{t==null||t(r),s(e),F(f+1)},resetSignal:f,valid:ee(o)}}const ae="_form_a5bhb_1",ne="_buttons_a5bhb_14",h={form:ae,buttons:ne,"columns-1":"_columns-1_a5bhb_21","buttons-1":"_buttons-1_a5bhb_26","columns-2":"_columns-2_a5bhb_30","buttons-2":"_buttons-2_a5bhb_35","columns-3":"_columns-3_a5bhb_39","buttons-3":"_buttons-3_a5bhb_44","columns-4":"_columns-4_a5bhb_48","buttons-4":"_buttons-4_a5bhb_53","columns-5":"_columns-5_a5bhb_57","buttons-5":"_buttons-5_a5bhb_62","columns-6":"_columns-6_a5bhb_66","buttons-6":"_buttons-6_a5bhb_71"},V=F=>{var g=F,{children:e,initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u,columns:s=1,hasReset:o=!0,className:y}=g,f=I(g,["children","initialValues","onReset","onSubmit","onClickSubmit","columns","hasReset","className"]);const{handleInputChange:x,handleSubmit:v,handleReset:r,resetSignal:m,valid:S}=te({initialValues:t,onReset:a,onSubmit:l,onClickSubmit:u}),N=s<=6&&s>=1?s:1,A=K([h.form,y]),O=h[`columns-${N}`],$=`${A} ${O}`,H=b.useMemo(()=>({onChangeFormInput:x,initialValues:t,resetSignal:m}),[x,t,m]);return n.jsx("form",c(i({onSubmit:v,onReset:r},f),{className:$,children:n.jsxs(Q.Provider,{value:H,children:[e,n.jsxs("div",{className:`${h.buttons} ${h[`buttons-${N}`]}`,children:[o&&n.jsx(L,{type:"reset",text:"Reset",icon:R.Clear,view:Z.Secondary}),n.jsx(L,{type:"submit",text:"Submit",icon:R.Forward,extended:!o,disabled:!S})]})]})}))};try{V.displayName="Form",V.__docgenInfo={description:"",displayName:"Form",props:{columns:{defaultValue:{value:"1"},description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const le=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],se=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],d={width:"300px"},j=({columns:e,hasReset:t})=>{const[a,l]=b.useState(),u={firstName:"John",lastName:"Doe",age:42};return n.jsxs("div",{children:[n.jsxs(V,{columns:e,hasReset:t,initialValues:u,onReset:()=>l(void 0),onClickSubmit:s=>l(s),children:[n.jsx(T,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:d}),n.jsx(T,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"},style:d}),n.jsx(G,{name:"age",label:"Age",validator:s=>!!s&&s>=1&&s<100,errorMessage:"Enter a number between 1 and 99",style:d}),n.jsx(U,{name:"language",label:"Language",options:le,style:d}),n.jsx(B,{name:"programmingLanguages",label:"Programming Languages",options:se,style:d}),n.jsx(z,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0,style:d})]}),a&&n.jsx("div",{className:W.container,style:{marginTop:"2rem"},children:n.jsxs("table",{style:{textAlign:"left"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Value"}),n.jsx("th",{children:"Type"})]})}),n.jsx("tbody",{children:Object.entries(a).map(s=>{var o;return n.jsxs("tr",{children:[n.jsx("td",{children:s[0]}),n.jsx("td",{children:(o=s[1])==null?void 0:o.toString()}),n.jsx("td",{children:typeof s[1]})]},s[0])})})]})})]})};try{j.displayName="FormExample",j.__docgenInfo={description:"",displayName:"FormExample",props:{columns:{defaultValue:null,description:"",name:"columns",required:!1,type:{name:"number"}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const re={args:{columns:2,hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:e=>console.log(e)},component:j,title:"Organisms/Form"},p={};var M,D,w;p.parameters=c(i({},p.parameters),{docs:c(i({},(M=p.parameters)==null?void 0:M.docs),{source:i({originalSource:"{}"},(w=(D=p.parameters)==null?void 0:D.docs)==null?void 0:w.source)})});const oe=["Example"],xe=Object.freeze(Object.defineProperty({__proto__:null,Example:p,__namedExportsOrder:oe,default:re},Symbol.toStringTag,{value:"Module"}));export{xe as F};
