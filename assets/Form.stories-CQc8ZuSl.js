var A=Object.defineProperty,O=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var F=(t,e,a)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,o=(t,e)=>{for(var a in e||(e={}))v.call(e,a)&&F(t,a,e[a]);if(g)for(var a of g(e))E.call(e,a)&&F(t,a,e[a]);return t},d=(t,e)=>O(t,w(e));var N=(t,e)=>{var a={};for(var r in t)v.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&g)for(var r of g(t))e.indexOf(r)<0&&E.call(t,r)&&(a[r]=t[r]);return a};import{r as c,j as n}from"./iframe-DdejNlzI.js";import{C as H}from"./Checkbox-CUG-lVAp.js";import{M as P}from"./MultiSelect-CHqbhj61.js";import{N as k}from"./NumericInput-DN-A2Szm.js";import{S as J}from"./Select-Bpp7rLVQ.js";import{T as q}from"./TextInput-CnZWa80O.js";import{B as C,a as z}from"./Button-v63RtYzu.js";import{I}from"./Icon-7G4m4hr-.js";import{g as B}from"./get-class-name-BY88G7uf.js";import{F as G}from"./use-reset-form-input-B7FCkzRR.js";import{s as U}from"./Container.module-rjw_d_sC.js";function $(t){return t?Object.keys(t).map(e=>[e,!0]):[]}function Z(t,e){return(e==null?void 0:e.valid)===void 0?t:t.map(a=>a[0]!==e.name?a:[a[0],!!(e!=null&&e.valid)])}function K(t){return t.every(e=>e[1])}function Q({initialValues:t,onReset:e,onSubmit:a,onClickSubmit:r}){const[l,i]=c.useState(t),[p,x]=c.useState($(t)),[y,f]=c.useState(0);return{handleInputChange:s=>{const u=d(o({},l),{[s.name]:s.value});i(u),x(Z(p,s))},handleSubmit:s=>{s.preventDefault();const u=Object.fromEntries(new FormData(s.target)),h=o(o({},u),l);a==null||a(s),r==null||r(h)},handleReset:s=>{e==null||e(s),i(t),f(y+1)},resetSignal:y,valid:K(p)}}const W="_form_23yxj_2",X="_form_buttons_23yxj_24",T={form:W,form_buttons:X},S=y=>{var f=y,{children:t,initialValues:e,onReset:a,onSubmit:r,onClickSubmit:l,hasReset:i=!0,className:p}=f,x=N(f,["children","initialValues","onReset","onSubmit","onClickSubmit","hasReset","className"]);const{handleInputChange:b,handleSubmit:j,handleReset:V,resetSignal:s,valid:u}=Q({initialValues:e,onReset:a,onSubmit:r,onClickSubmit:l}),h=B([T.form,p]),D=c.useMemo(()=>({onChangeFormInput:b,initialValues:e,resetSignal:s}),[b,e,s]);return n.jsx("form",d(o({onSubmit:j,onReset:V},x),{className:h,children:n.jsxs(G.Provider,{value:D,children:[t,n.jsxs("div",{className:T.form_buttons,children:[i&&n.jsx(C,{type:"reset",text:"Reset",icon:I.Clear,view:z.Secondary}),n.jsx(C,{type:"submit",text:"Submit",icon:I.Forward,extended:!i,disabled:!u})]})]})}))};try{S.displayName="Form",S.__docgenInfo={description:"",displayName:"Form",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}const Y=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],ee=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],_=t=>{const[e,a]=c.useState(),r={firstName:"John",lastName:"Doe",age:42};return n.jsxs("div",{children:[n.jsxs(S,d(o({},t),{initialValues:r,onReset:()=>a(void 0),onClickSubmit:l=>a(l),children:[n.jsx(q,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),n.jsx(q,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),n.jsx(k,{name:"age",label:"Age",validator:l=>!!l&&l>=1&&l<100,errorMessage:"Enter a number between 1 and 99"}),n.jsx(J,{name:"language",label:"Language",options:Y}),n.jsx(P,{name:"programmingLanguages",label:"Programming Languages",options:ee}),n.jsx(H,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0})]})),e&&n.jsx("div",{className:U.container,style:{marginTop:"2rem"},children:n.jsxs("table",{style:{textAlign:"left"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Value"}),n.jsx("th",{children:"Type"})]})}),n.jsx("tbody",{children:Object.entries(e).map(l=>{var i;return n.jsxs("tr",{children:[n.jsx("td",{children:l[0]}),n.jsx("td",{children:(i=l[1])==null?void 0:i.toString()}),n.jsx("td",{children:typeof l[1]})]},l[0])})})]})})]})};try{_.displayName="FormExample",_.__docgenInfo={description:"",displayName:"FormExample",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}const te={args:{hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:t=>console.log(t)},component:_,title:"Organisms/Form"},m={};var L,R,M;m.parameters=d(o({},m.parameters),{docs:d(o({},(L=m.parameters)==null?void 0:L.docs),{source:o({originalSource:"{}"},(M=(R=m.parameters)==null?void 0:R.docs)==null?void 0:M.source)})});const ae=["Example"],ge=Object.freeze(Object.defineProperty({__proto__:null,Example:m,__namedExportsOrder:ae,default:te},Symbol.toStringTag,{value:"Module"}));export{ge as F};
