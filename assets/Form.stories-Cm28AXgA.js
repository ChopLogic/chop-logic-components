var D=Object.defineProperty,O=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var F=(t,e,r)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s=(t,e)=>{for(var r in e||(e={}))C.call(e,r)&&F(t,r,e[r]);if(y)for(var r of y(e))N.call(e,r)&&F(t,r,e[r]);return t},d=(t,e)=>O(t,k(e));var E=(t,e)=>{var r={};for(var n in t)C.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&y)for(var n of y(t))e.indexOf(n)<0&&N.call(t,n)&&(r[n]=t[n]);return r};import{r as c,j as a}from"./iframe-C2ng--48.js";import{C as H}from"./Checkbox-CTqciuYt.js";import{M as P}from"./MultiSelect-doeAM3Zs.js";import{N as z}from"./NumericInput-D1fH1BUR.js";import{S as Z}from"./Select-DymD9dxI.js";import{S as I}from"./Switch-sCK-MRFb.js";import{T as S}from"./TextInput-CMxRyLRB.js";import{a as q,B}from"./Button-SMZXn4mz.js";import{I as R}from"./Icon-Fv1_a00z.js";import{g as J}from"./get-class-name-BY88G7uf.js";import{F as U}from"./use-reset-form-input-DKGo7m18.js";import{s as $}from"./Container.module-3iQ-V5w_.js";function G(t){return t?Object.keys(t).map(e=>[e,!0]):[]}function W(t,e){return(e==null?void 0:e.valid)===void 0?t:t.map(r=>r[0]!==e.name?r:[r[0],!!(e!=null&&e.valid)])}function K(t){return t.every(e=>e[1])}function Q({initialValues:t,onReset:e,onSubmit:r,onClickSubmit:n}){const[l,o]=c.useState(t),[p,b]=c.useState(G(t)),[g,f]=c.useState(0);return{handleInputChange:i=>{const m=d(s({},l),{[i.name]:i.value});o(m),b(W(p,i))},handleSubmit:i=>{i.preventDefault();const m=Object.fromEntries(new FormData(i.target)),x=s(s({},m),l);r==null||r(i),n==null||n(x)},handleReset:i=>{e==null||e(i),o(t),f(g+1)},resetSignal:g,valid:K(p)}}const X="_form_1lesb_2",Y="_form_buttons_1lesb_24",A={form:X,form_buttons:Y},v=g=>{var f=g,{children:t,initialValues:e,onReset:r,onSubmit:n,onClickSubmit:l,hasReset:o=!0,className:p}=f,b=E(f,["children","initialValues","onReset","onSubmit","onClickSubmit","hasReset","className"]);const{handleInputChange:h,handleSubmit:_,handleReset:V,resetSignal:i,valid:m}=Q({initialValues:e,onReset:r,onSubmit:n,onClickSubmit:l}),x=J([A.form,p]),w=c.useMemo(()=>({onChangeFormInput:h,initialValues:e,resetSignal:i}),[h,e,i]);return a.jsx("form",d(s({onSubmit:_,onReset:V},b),{className:x,children:a.jsxs(U.Provider,{value:w,children:[t,a.jsxs("div",{className:A.form_buttons,children:[o&&a.jsx(q,{type:"reset",text:"Reset",icon:R.Clear,view:B.Secondary}),a.jsx(q,{type:"submit",text:"Submit",icon:R.Forward,extended:!o,disabled:!m})]})]})}))};try{v.displayName="Form",v.__docgenInfo={description:"",displayName:"Form",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}const ee=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],te=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],j=t=>{const[e,r]=c.useState(),n={firstName:"John",lastName:"Doe",age:42,isSubscribed:!0};return a.jsxs("div",{children:[a.jsxs(v,d(s({},t),{initialValues:n,onReset:()=>r(void 0),onClickSubmit:l=>r(l),children:[a.jsx(S,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),a.jsx(S,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),a.jsx(S,{placeholder:"Enter your email",label:"Email",name:"email",type:"email",required:!0,clearable:!0,errorMessage:"This is not a valid email",validator:{regexp:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,6}$"}}),a.jsx(z,{name:"age",label:"Age",validator:l=>!!l&&l>=1&&l<100,errorMessage:"Enter a number between 1 and 99"}),a.jsx(Z,{name:"language",label:"Language",options:ee}),a.jsx(P,{name:"programmingLanguages",label:"Programming Languages",options:te}),a.jsx(H,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0}),a.jsx(I,{name:"isSubscribed",label:"Subscribe to Newsletter"}),a.jsx(I,{name:"isAgreedToCollectAnalytics",label:"Send Analytics"})]})),e&&a.jsx("div",{className:$.container,style:{marginTop:"2rem"},children:a.jsxs("table",{style:{textAlign:"left"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Value"}),a.jsx("th",{children:"Type"})]})}),a.jsx("tbody",{children:Object.entries(e).map(l=>{var o;return a.jsxs("tr",{children:[a.jsx("td",{children:l[0]}),a.jsx("td",{children:(o=l[1])==null?void 0:o.toString()}),a.jsx("td",{children:typeof l[1]})]},l[0])})})]})})]})};try{j.displayName="FormExample",j.__docgenInfo={description:"",displayName:"FormExample",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}const ae={component:j,title:"Organisms/Form",args:{hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:t=>console.log(t)},argTypes:{children:{control:"text",description:"Form content including input fields and buttons",table:{type:{summary:"ReactNode"},category:"Content"}},initialValues:{control:"object",description:"Initial values for form fields (key-value pairs)",table:{type:{summary:"Record<string, any>"},category:"State"}},hasReset:{control:"boolean",description:"Whether to enable form reset functionality",table:{type:{summary:"boolean"},category:"Behavior"}},onClickSubmit:{action:"submitted",description:"Callback function called when form is submitted",table:{type:{summary:"(data: Record<string, any>) => void"},category:"Interaction"}},onReset:{action:"reset",description:"Custom reset handler (overrides default reset behavior)",table:{type:{summary:"() => void"},category:"Interaction"}},onSubmit:{action:"submit",description:"Custom submit handler (overrides default submit behavior)",table:{type:{summary:"(data: Record<string, any>) => void"},category:"Interaction"}},className:{control:"text",description:"Additional CSS class for custom styling",table:{type:{summary:"string"},category:"Styling"}},style:{control:"object",description:"Inline CSS styles for the form container",table:{type:{summary:"CSSProperties"},category:"Styling"}},id:{control:"text",description:"Unique identifier for the form",table:{type:{summary:"string"},category:"Identification"}},title:{control:"text",description:"Accessibility title for the form",table:{type:{summary:"string"},category:"Identification"}},tabIndex:{control:"number",description:"Tab index for keyboard navigation",table:{type:{summary:"number"},category:"Accessibility"}}}},u={};var T,L,M;u.parameters=d(s({},u.parameters),{docs:d(s({},(T=u.parameters)==null?void 0:T.docs),{source:s({originalSource:"{}"},(M=(L=u.parameters)==null?void 0:L.docs)==null?void 0:M.source)})});const re=["Example"],ge=Object.freeze(Object.defineProperty({__proto__:null,Example:u,__namedExportsOrder:re,default:ae},Symbol.toStringTag,{value:"Module"}));export{ge as F};
