import{r as m,j as e}from"./iframe-DP4TfwvB.js";/* empty css                  */import{C as F}from"./Checkbox-BuKwiBIs.js";import{M as N}from"./MultiSelect-BK8gFG3p.js";import{N as _}from"./NumericInput-DEJXQvg1.js";import{S as E}from"./Select-D83C5eMW.js";import{S as v}from"./Switch-DjozhISC.js";import{T as b}from"./TextInput-CiVnWBfn.js";import{a as j,B as I}from"./Button-BkZxBmQE.js";import{I as V}from"./icon-name-DofyCo9k.js";import{g as R}from"./get-class-name-BY88G7uf.js";import{F as q}from"./use-reset-form-input-CGOMNfpm.js";function A(t){return t?Object.keys(t).map(a=>[a,!0]):[]}function T(t,a){return a?.valid===void 0?t:t.map(l=>l[0]!==a.name?l:[l[0],!!a?.valid])}function D(t){return t.every(a=>a[1])}function L({initialValues:t,onReset:a,onSubmit:l,onClickSubmit:i}){const[r,o]=m.useState(t),[u,p]=m.useState(A(t)),[s,y]=m.useState(0);return{handleInputChange:n=>{const c={...r,[n.name]:n.value};o(c),p(T(u,n))},handleSubmit:n=>{n.preventDefault();const C={...Object.fromEntries(new FormData(n.target)),...r};l?.(n),i?.(C)},handleReset:n=>{a?.(n),o(t),y(s+1)},resetSignal:s,valid:D(u)}}const g=({children:t,initialValues:a,onReset:l,onSubmit:i,onClickSubmit:r,hasReset:o=!0,className:u,...p})=>{const{handleInputChange:s,handleSubmit:y,handleReset:S,resetSignal:f,valid:x}=L({initialValues:a,onReset:l,onSubmit:i,onClickSubmit:r}),n=R(["cl-form",u]),c=m.useMemo(()=>({onChangeFormInput:s,initialValues:a,resetSignal:f}),[s,a,f]);return e.jsx("form",{onSubmit:y,onReset:S,...p,className:n,children:e.jsxs(q.Provider,{value:c,children:[t,e.jsxs("div",{className:"cl-form__buttons",children:[o&&e.jsx(j,{type:"reset",text:"Reset",icon:V.Delete,view:I.Secondary}),e.jsx(j,{type:"submit",text:"Submit",icon:V.ArrowRight,extended:!o,disabled:!x})]})]})})};try{g.displayName="Form",g.__docgenInfo={description:"",displayName:"Form",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const M=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],k=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],h=t=>{const[a,l]=m.useState(),i={firstName:"John",lastName:"Doe",age:42,isSubscribed:!0};return e.jsxs("div",{children:[e.jsxs(g,{...t,initialValues:i,onReset:()=>l(void 0),onClickSubmit:r=>l(r),children:[e.jsx(b,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),e.jsx(b,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),e.jsx(b,{placeholder:"Enter your email",label:"Email",name:"email",type:"email",required:!0,clearable:!0,errorMessage:"This is not a valid email",validator:{regexp:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,6}$"}}),e.jsx(_,{name:"age",label:"Age",validator:r=>!!r&&r>=1&&r<100,errorMessage:"Enter a number between 1 and 99"}),e.jsx(E,{name:"language",label:"Language",options:M}),e.jsx(N,{name:"programmingLanguages",label:"Programming Languages",options:k}),e.jsx(F,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0}),e.jsx(v,{name:"isSubscribed",label:"Subscribe to Newsletter"}),e.jsx(v,{name:"isAgreedToCollectAnalytics",label:"Send Analytics"})]}),a&&e.jsx("div",{className:"container",style:{marginTop:"2rem",color:"var(--cl-base-font-color)"},children:e.jsxs("table",{style:{textAlign:"left"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Type"})]})}),e.jsx("tbody",{children:Object.entries(a).map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r[0]}),e.jsx("td",{children:r[1]?.toString()}),e.jsx("td",{children:typeof r[1]})]},r[0]))})]})})]})};try{h.displayName="FormExample",h.__docgenInfo={description:"",displayName:"FormExample",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const w={component:h,title:"Organisms/Form",args:{hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:t=>console.log(t)},argTypes:{children:{control:"text",description:"Form content including input fields and buttons",table:{type:{summary:"ReactNode"},category:"Content"}},initialValues:{control:"object",description:"Initial values for form fields (key-value pairs)",table:{type:{summary:"Record<string, any>"},category:"State"}},hasReset:{control:"boolean",description:"Whether to enable form reset functionality",table:{type:{summary:"boolean"},category:"Behavior"}},onClickSubmit:{action:"submitted",description:"Callback function called when form is submitted",table:{type:{summary:"(data: Record<string, any>) => void"},category:"Interaction"}},onReset:{action:"reset",description:"Custom reset handler (overrides default reset behavior)",table:{type:{summary:"() => void"},category:"Interaction"}},onSubmit:{action:"submit",description:"Custom submit handler (overrides default submit behavior)",table:{type:{summary:"(data: Record<string, any>) => void"},category:"Interaction"}},className:{control:"text",description:"Additional CSS class for custom styling",table:{type:{summary:"string"},category:"Styling"}},style:{control:"object",description:"Inline CSS styles for the form container",table:{type:{summary:"CSSProperties"},category:"Styling"}},id:{control:"text",description:"Unique identifier for the form",table:{type:{summary:"string"},category:"Identification"}},title:{control:"text",description:"Accessibility title for the form",table:{type:{summary:"string"},category:"Identification"}},tabIndex:{control:"number",description:"Tab index for keyboard navigation",table:{type:{summary:"number"},category:"Accessibility"}}}},d={};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"{}",...d.parameters?.docs?.source}}};const O=["Example"],X=Object.freeze(Object.defineProperty({__proto__:null,Example:d,__namedExportsOrder:O,default:w},Symbol.toStringTag,{value:"Module"}));export{X as F};
