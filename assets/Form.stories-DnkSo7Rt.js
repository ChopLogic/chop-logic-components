var w=Object.defineProperty,O=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var v=(a,e,r)=>e in a?w(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,i=(a,e)=>{for(var r in e||(e={}))E.call(e,r)&&v(a,r,e[r]);if(g)for(var r of g(e))N.call(e,r)&&v(a,r,e[r]);return a},d=(a,e)=>O(a,H(e));var q=(a,e)=>{var r={};for(var l in a)E.call(a,l)&&e.indexOf(l)<0&&(r[l]=a[l]);if(a!=null&&g)for(var l of g(a))e.indexOf(l)<0&&N.call(a,l)&&(r[l]=a[l]);return r};import{r as c,j as t}from"./iframe-31bCIIM-.js";import{C as z}from"./Checkbox-DkS9k-aN.js";import{M as P}from"./MultiSelect-D1ckKOZY.js";import{N as Z}from"./NumericInput-pv7xly4W.js";import{S as k}from"./Select-CXHKa2UQ.js";import{S as C}from"./Switch-d0YGm-Ch.js";import{T as S}from"./TextInput-CoVji25y.js";import{B as I,a as J}from"./Button-CXfa96Wd.js";import{g as $}from"./get-class-name-BY88G7uf.js";import{F as B}from"./use-reset-form-input-BCncBi71.js";import{I as T}from"./Icon-6YXdsa9S.js";import{s as G}from"./Container.module-rjw_d_sC.js";function U(a){return a?Object.keys(a).map(e=>[e,!0]):[]}function K(a,e){return(e==null?void 0:e.valid)===void 0?a:a.map(r=>r[0]!==e.name?r:[r[0],!!(e!=null&&e.valid)])}function Q(a){return a.every(e=>e[1])}function W({initialValues:a,onReset:e,onSubmit:r,onClickSubmit:l}){const[n,o]=c.useState(a),[p,b]=c.useState(U(a)),[x,f]=c.useState(0);return{handleInputChange:s=>{const m=d(i({},n),{[s.name]:s.value});o(m),b(K(p,s))},handleSubmit:s=>{s.preventDefault();const m=Object.fromEntries(new FormData(s.target)),h=i(i({},m),n);r==null||r(s),l==null||l(h)},handleReset:s=>{e==null||e(s),o(a),f(x+1)},resetSignal:x,valid:Q(p)}}const X="_form_1lesb_2",Y="_form_buttons_1lesb_24",A={form:X,form_buttons:Y},_=x=>{var f=x,{children:a,initialValues:e,onReset:r,onSubmit:l,onClickSubmit:n,hasReset:o=!0,className:p}=f,b=q(f,["children","initialValues","onReset","onSubmit","onClickSubmit","hasReset","className"]);const{handleInputChange:y,handleSubmit:V,handleReset:F,resetSignal:s,valid:m}=W({initialValues:e,onReset:r,onSubmit:l,onClickSubmit:n}),h=$([A.form,p]),D=c.useMemo(()=>({onChangeFormInput:y,initialValues:e,resetSignal:s}),[y,e,s]);return t.jsx("form",d(i({onSubmit:V,onReset:F},b),{className:h,children:t.jsxs(B.Provider,{value:D,children:[a,t.jsxs("div",{className:A.form_buttons,children:[o&&t.jsx(I,{type:"reset",text:"Reset",icon:T.Clear,view:J.Secondary}),t.jsx(I,{type:"submit",text:"Submit",icon:T.Forward,extended:!o,disabled:!m})]})]})}))};try{_.displayName="Form",_.__docgenInfo={description:"",displayName:"Form",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:{value:"true"},description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(a){}const ee=[{id:"lang-1",label:"English"},{id:"lang-2",label:"Russian"},{id:"lang-3",label:"German"}],ae=[{id:"pr-lang-1",label:"JavaScript"},{id:"pr-lang-2",label:"Python"},{id:"pr-lang-3",label:"Java"},{id:"pr-lang-4",label:"C#"}],j=a=>{const[e,r]=c.useState(),l={firstName:"John",lastName:"Doe",age:42,isSubscribed:!0};return t.jsxs("div",{children:[t.jsxs(_,d(i({},a),{initialValues:l,onReset:()=>r(void 0),onClickSubmit:n=>r(n),children:[t.jsx(S,{name:"firstName",label:"First Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),t.jsx(S,{name:"lastName",label:"Last Name",errorMessage:"Only latin letters are allowed",validator:{regexp:"^[A-Za-z ]+$"}}),t.jsx(S,{placeholder:"Enter your email",label:"Email",name:"email",type:"email",required:!0,clearable:!0,errorMessage:"This is not a valid email",validator:{regexp:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,6}$"}}),t.jsx(Z,{name:"age",label:"Age",validator:n=>!!n&&n>=1&&n<100,errorMessage:"Enter a number between 1 and 99"}),t.jsx(k,{name:"language",label:"Language",options:ee}),t.jsx(P,{name:"programmingLanguages",label:"Programming Languages",options:ae}),t.jsx(z,{name:"isTermsAccepted",label:"Accept Terms and Conditions",required:!0}),t.jsx(C,{name:"isSubscribed",label:"Subscribe to Newsletter"}),t.jsx(C,{name:"isAgreedToCollectAnalytics",label:"Send Analytics"})]})),e&&t.jsx("div",{className:G.container,style:{marginTop:"2rem"},children:t.jsxs("table",{style:{textAlign:"left"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Value"}),t.jsx("th",{children:"Type"})]})}),t.jsx("tbody",{children:Object.entries(e).map(n=>{var o;return t.jsxs("tr",{children:[t.jsx("td",{children:n[0]}),t.jsx("td",{children:(o=n[1])==null?void 0:o.toString()}),t.jsx("td",{children:typeof n[1]})]},n[0])})})]})})]})};try{j.displayName="FormExample",j.__docgenInfo={description:"",displayName:"FormExample",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"FormValues"}},hasReset:{defaultValue:null,description:"",name:"hasReset",required:!1,type:{name:"boolean"}},onClickSubmit:{defaultValue:null,description:"",name:"onClickSubmit",required:!1,type:{name:"((data: FormValues) => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"FormEventHandler<HTMLFormElement>"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(a){}const te={args:{hasReset:!0,initialValues:{firstName:"John",lastName:"Doe",age:42},onClickSubmit:a=>console.log(a)},component:j,title:"Organisms/Form"},u={};var L,M,R;u.parameters=d(i({},u.parameters),{docs:d(i({},(L=u.parameters)==null?void 0:L.docs),{source:i({originalSource:"{}"},(R=(M=u.parameters)==null?void 0:M.docs)==null?void 0:R.source)})});const re=["Example"],xe=Object.freeze(Object.defineProperty({__proto__:null,Example:u,__namedExportsOrder:re,default:te},Symbol.toStringTag,{value:"Module"}));export{xe as F};
