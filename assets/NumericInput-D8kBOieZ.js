import{r as N,C as A,j as i}from"./iframe-CcStb-xO.js";import"./EditableText-q3k3r0Uc.js";import{c as G,C as O}from"./Header-BiTp834B.js";import{C}from"./Icon-wNEFAMcc.js";import"./Loader-BhAQqttu.js";import"./Portal-CahqD_2f.js";import{C as L,a as M}from"./Button-BpT_NpT1.js";import{g as S}from"./get-class-name-CHDn80c0.js";import{e as $,E as D}from"./Dropdown-B9vQZ4D_.js";import{u as P}from"./use-reset-form-input-BKI7i7oO.js";function X({name:e,initialValues:a,defaultValue:r}){return a&&a[e]?Number(a[e]):r&&typeof r=="number"?r:0}function z({value:e,required:a,validator:r,maxValue:n,minValue:l}){return a&&!r&&e===void 0?!1:r&&typeof r=="function"?r(e):n&&l&&e&&!r?e<=n&&e>=l:!0}function J({name:e,defaultValue:a,onChange:r,onSpinButtonClick:n,min:l,max:g,step:o,required:b,validator:q}){const{onChangeFormInput:u,initialValues:h}=N.useContext(A),p=X({initialValues:h,defaultValue:a,name:e}),m=g?Number(g):Number.MAX_SAFE_INTEGER,d=l?Number(l):Number.MIN_SAFE_INTEGER,[s,V]=N.useState(p),[x,f]=N.useState(!0),y=t=>{V(t);const c=z({value:t,required:b,validator:q,maxValue:m,minValue:d});f(c),u==null||u({name:e,value:t,valid:c})},_=t=>{const c=Number(t.target.value);y(c),r==null||r(t)},v=()=>{y(s+o),n==null||n(s+o)},I=()=>{y(s-o),n==null||n(s-o)},E=N.useCallback(()=>{V(p),f(!0),u==null||u({name:e,value:p,valid:!0})},[e]);return P(E),{handleChange:_,value:s,valid:x,minValue:d,maxValue:m,increment:v,decrement:I}}const K="_numeric_1s7mp_1",Q="_errorMessage_1s7mp_7",j={numeric:K,errorMessage:Q},te=({name:e,label:a,errorMessage:r,onChange:n,onBlur:l,onFocus:g,onSpinButtonClick:o,validator:b,min:q,max:u,id:h,tabIndex:p,disabled:m=!1,required:d=!1,readOnly:s=!1,hasSpinButtons:V=!0,defaultValue:x=0,step:f=1,className:y,..._})=>{const{elementId:v,errorId:I}=G(h),{value:E,valid:t,handleChange:c,increment:H,decrement:R,minValue:F,maxValue:T}=J({name:e,defaultValue:x,min:q,max:u,onChange:n,required:d,validator:b,step:f,onSpinButtonClick:o}),w=S([j.numeric,y]);return i.jsxs("div",{..._,className:w,children:[i.jsx(O,{label:a,required:d,inputId:v}),i.jsxs($,{id:v,name:e,type:"number",disabled:m,required:d,readOnly:s,placeholder:"0","aria-invalid":!t,"aria-errormessage":I,value:E.toString(),onChange:c,min:F,max:T,step:f,onBlur:l,onFocus:g,tabIndex:p,children:[V&&i.jsxs("span",{children:[i.jsx(L,{onClick:R,view:M.Inner,label:`Decrement value for ${a}`,icon:C.ChevronLeft,disabled:m}),i.jsx(L,{onClick:H,view:M.Inner,label:`Increment value for ${a}`,icon:C.ChevronRight,disabled:m})]}),i.jsx(D,{errorId:I,message:r,visible:!t,className:j.errorMessage})]})]})};try{NumericInput.displayName="NumericInput",NumericInput.__docgenInfo={description:"",displayName:"NumericInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicNumericInputValidator"}},hasSpinButtons:{defaultValue:{value:"true"},description:"",name:"hasSpinButtons",required:!1,type:{name:"boolean"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},step:{defaultValue:{value:"1"},description:"",name:"step",required:!1,type:{name:"number"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:{value:"0"},description:"",name:"defaultValue",required:!1,type:{name:"number"}},onSpinButtonClick:{defaultValue:null,description:"",name:"onSpinButtonClick",required:!1,type:{name:"((value?: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{te as C};
