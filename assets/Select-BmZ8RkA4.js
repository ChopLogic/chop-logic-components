import{r as f,C as h,j as b}from"./iframe-CcStb-xO.js";import"./EditableText-q3k3r0Uc.js";import{c as I,C as N}from"./Header-BiTp834B.js";import"./Icon-wNEFAMcc.js";import"./Loader-BhAQqttu.js";import"./Portal-CahqD_2f.js";import{u as _}from"./use-click-outside-BOHE6JV_.js";import{u as L}from"./use-key-press-BYb-T9_a.js";import{g as V}from"./get-class-name-CHDn80c0.js";import{S as j,b as k}from"./Dropdown-B9vQZ4D_.js";import{u as E}from"./use-reset-form-input-BKI7i7oO.js";import{s as R}from"./Select.module-DHd5GItA.js";function O({name:t,options:d,initialValues:e,defaultValue:r}){var o;let l;return e&&e[t]&&(l=((o=e[t])==null?void 0:o.id)??e[t]),!(e!=null&&e[t])&&r&&typeof r=="string"&&(l=r),d.find(s=>s.id===l)}function P({name:t,defaultValue:d,onChange:e,options:r}){const{onChangeFormInput:l,initialValues:o}=f.useContext(h),s=O({name:t,options:r,defaultValue:d,initialValues:o}),[n,i]=f.useState(!1),[C,c]=f.useState(s),u=()=>i(!1),p=()=>i(!n),y=g=>{const a=r.find(S=>S.id===g);c(a),e==null||e(a),l==null||l({name:t,value:a==null?void 0:a.id})},x=()=>{c(void 0),e==null||e(void 0)},m=f.useCallback(()=>{i(!1),c(s),l==null||l({name:t,value:s==null?void 0:s.id})},[t]);return E(m),{selected:C,opened:n,handleClear:x,handleClose:u,handleToggle:p,handleSelect:y}}const U=({options:t,onChange:d,name:e,label:r,defaultValue:l,id:o,placeholder:s="Not selected",required:n=!1,disabled:i=!1,className:C,...c})=>{const u=f.useRef(null),{elementId:p,dropdownId:y}=I(o),{handleClear:x,handleClose:m,handleSelect:g,handleToggle:a,selected:S,opened:q}=P({options:t,onChange:d,defaultValue:l,name:e}),v=V([R.wrapper,C]);return _({ref:u,onClickOutsideHandler:m}),L({keyCode:"Escape",ref:u,onKeyPress:m}),b.jsxs("div",{ref:u,...c,className:v,children:[b.jsx(N,{label:r,required:n,inputId:p}),b.jsx(j,{name:e,opened:q,comboboxId:p,dropdownId:y,onClick:a,selected:S,placeholder:s,disabled:i,required:n}),b.jsx(k,{options:t,selected:S,opened:q,onClose:m,dropdownId:y,comboboxId:p,onSelect:g,onClear:x})]})};try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ChopLogicSelectValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: ChopLogicSelectValue) => void)"}},placeholder:{defaultValue:{value:"Not selected"},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | readonly string[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{U as C};
