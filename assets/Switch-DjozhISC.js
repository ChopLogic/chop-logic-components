import{r as n,j as i}from"./iframe-DP4TfwvB.js";import{g as _}from"./get-class-name-BY88G7uf.js";import{F as k,u as w}from"./use-reset-form-input-CGOMNfpm.js";function g({defaultChecked:e,initialValues:r,name:t}){return r?.[t]!==void 0?!!r?.[t]:!!e}function x({name:e,defaultChecked:r,onChange:t}){const{onChangeFormInput:l,initialValues:f}=n.useContext(k),u=g({initialValues:f,name:e,defaultChecked:r}),[c,h]=n.useState(u),o=n.useRef(l),a=n.useRef(u),p=n.useRef(t);o.current=l,a.current=u,p.current=t;const d=n.useCallback(s=>{h(s),p.current?.(s),o.current?.({name:e,value:s})},[e]),m=n.useCallback(s=>{(s.key===" "||s.key==="Enter")&&(s.preventDefault(),d(!c))},[c,d]),y=n.useCallback(()=>{h(a.current),o.current?.({name:e,value:a.current})},[e]);return w(y),{checked:c,handleChange:d,handleKeyDown:m}}const C=({checked:e,onChange:r,label:t,disabled:l=!1,className:f,id:u,name:c,value:h="on",hasIndicator:o})=>{const{checked:a,handleChange:p,handleKeyDown:d}=x({name:c,defaultChecked:e,onChange:r}),m=_(["cl-switch",f,{"cl-switch__checked":a,"cl-switch_disabled":l}]),y=()=>{l||p(!a)};return i.jsxs("div",{role:"switch","aria-checked":a,"aria-label":t,tabIndex:l?-1:0,className:m,onClick:y,onKeyDown:d,id:u,children:[i.jsx("input",{type:"checkbox",name:c,value:h,checked:a,disabled:l,className:"cl-switch__input",readOnly:!0,"data-testid":"switch-input"}),i.jsx("span",{className:"cl-switch__label",children:t}),o&&i.jsx("span",{className:"cl-switch__indicator","aria-hidden":"true",children:a?"On":"Off"}),i.jsx("span",{className:"cl-switch__track",children:i.jsx("span",{className:"cl-switch__thumb"})})]})};try{C.displayName="Switch",C.__docgenInfo={description:"",displayName:"Switch",props:{checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((checked: boolean) => void)"}},value:{defaultValue:{value:"on"},description:"",name:"value",required:!1,type:{name:"string"}},hasIndicator:{defaultValue:null,description:"",name:"hasIndicator",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}export{C as S};
