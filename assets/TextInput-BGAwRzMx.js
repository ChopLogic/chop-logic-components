var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var L=(t,a,e)=>a in t?J(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,R=(t,a)=>{for(var e in a||(a={}))H.call(a,e)&&L(t,e,a[e]);if(v)for(var e of v(a))N.call(a,e)&&L(t,e,a[e]);return t},B=(t,a)=>K(t,Q(a));var P=(t,a)=>{var e={};for(var r in t)H.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&v)for(var r of v(t))a.indexOf(r)<0&&N.call(t,r)&&(e[r]=t[r]);return e};import{r as l,j as s}from"./iframe-BBnnbBfy.js";import{a as F,B as k}from"./Button-CA820I6K.js";import{E as U}from"./ErrorMessage-DawOjjD3.js";import{I as X}from"./Input-dJbLfbkB.js";import{L as Y}from"./Label-B6LNTjBB.js";import{I as E}from"./Icon-D3WKOnh1.js";import{u as Z}from"./use-element-ids-C6GSgMsY.js";import{g as ee}from"./get-class-name-BY88G7uf.js";import{F as te,u as ae}from"./use-reset-form-input-B7TsAlka.js";function re({value:t,required:a,validator:e}){return a&&!e&&!t.length?!1:e&&typeof e=="function"?e(t):e&&typeof e=="object"?new RegExp(e.regexp,e==null?void 0:e.flags).test(t):!0}function ne({name:t,initialValues:a,defaultValue:e}){return a!=null&&a[t]?a[t].toString():e&&typeof e=="string"?e:""}function le({name:t,defaultValue:a,onChange:e,onClear:r,required:V,validator:q}){const{onChangeFormInput:n,initialValues:I}=l.useContext(te),c=ne({initialValues:I,defaultValue:a,name:t}),[w,m]=l.useState(c),[b,f]=l.useState(!0),[u,y]=l.useState(!1),i=l.useRef(n),o=l.useRef(c);i.current=n,o.current=c;const h=d=>{const p=d.target.value,x=re({value:p,required:V,validator:q});m(p),f(x),n==null||n({name:t,value:p,valid:x}),e==null||e(d)},g=()=>{m(""),f(!0),n==null||n({name:t,value:"",valid:!0}),r==null||r()},T=l.useCallback(()=>{var d;m(o.current),f(!0),(d=i.current)==null||d.call(i,{name:t,value:o.current,valid:!0})},[t]),_=()=>{y(!u)};return ae(T),{value:w,valid:b,passwordShown:u,handleChange:h,handleClear:g,togglePassword:_}}const se="_wrapper_pivdt_3",ue="_errorMessage_pivdt_10",A={wrapper:se,errorMessage:ue},O=d=>{var p=d,{name:t,label:a,errorMessage:e,defaultValue:r,onChange:V,onBlur:q,onFocus:n,onClear:I,validator:c,maxLength:w,id:m,tabIndex:b,placeholder:f="Type here...",disabled:u=!1,required:y=!1,clearable:i=!0,readOnly:o=!1,autoComplete:h="off",type:g="text",className:T}=p,_=P(p,["name","label","errorMessage","defaultValue","onChange","onBlur","onFocus","onClear","validator","maxLength","id","tabIndex","placeholder","disabled","required","clearable","readOnly","autoComplete","type","className"]);const{value:x,valid:C,handleChange:W,handleClear:$,passwordShown:M,togglePassword:z}=le({defaultValue:r,name:t,onChange:V,onClear:I,required:y,validator:c}),{elementId:j,errorId:S}=Z(m),D=g==="password",G=ee([A.wrapper,T]);return s.jsxs("div",B(R({},_),{className:G,children:[s.jsx(Y,{label:a,required:y,inputId:j}),s.jsxs(X,{id:j,name:t,type:M?"text":g,disabled:u,placeholder:f,required:y,readOnly:o,autoComplete:h,"aria-invalid":!C,"aria-errormessage":S,"aria-readonly":o,value:x,onChange:W,maxLength:w,onBlur:q,onFocus:n,tabIndex:b,children:[s.jsxs("span",{children:[i&&s.jsx(F,{view:k.Inner,onClick:$,label:`Clear input for ${a}`,icon:E.Remove,disabled:u}),D&&s.jsx(F,{onClick:z,view:k.Inner,label:"Toggle password visibility",icon:M?E.Hide:E.Show,disabled:u})]}),s.jsx(U,{errorId:S,message:e,visible:!C,className:A.errorMessage})]})]}))};try{O.displayName="TextInput",O.__docgenInfo={description:"",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}export{O as T};
