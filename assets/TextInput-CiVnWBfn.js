import{r as p,j as t}from"./iframe-DP4TfwvB.js";import{E as R}from"./ErrorMessage-Bcx3cAYD.js";import{I as A}from"./Input-OJw9X-Ut.js";import{L as O}from"./Label-GsN7KfjG.js";import{u as D}from"./use-element-ids-BwRwfIW9.js";import{g as k}from"./get-class-name-BY88G7uf.js";import{F as z,u as G}from"./use-reset-form-input-CGOMNfpm.js";import{a as M,B}from"./Button-BkZxBmQE.js";import{I as F}from"./icon-name-DofyCo9k.js";function J({value:e,required:l,validator:a}){return l&&!a&&!e.length?!1:a&&typeof a=="function"?a(e):a&&typeof a=="object"?new RegExp(a.regexp,a?.flags).test(e):!0}function K({name:e,initialValues:l,defaultValue:a}){return l?.[e]?l[e].toString():a&&typeof a=="string"?a:""}function Q({name:e,defaultValue:l,onChange:a,onClear:m,required:r,validator:f}){const{onChangeFormInput:n,initialValues:v}=p.useContext(z),c=K({initialValues:v,defaultValue:l,name:e}),[h,y]=p.useState(c),[I,s]=p.useState(!0),[i,g]=p.useState(!1),V=p.useRef(n),d=p.useRef(c);V.current=n,d.current=c;const x=q=>{const u=q.target.value,o=J({value:u,required:r,validator:f});y(u),s(o),n?.({name:e,value:u,valid:o}),a?.(q)},b=()=>{y(""),s(!0),n?.({name:e,value:"",valid:!0}),m?.()},C=p.useCallback(()=>{y(d.current),s(!0),V.current?.({name:e,value:d.current,valid:!0})},[e]),T=()=>{g(!i)};return G(C),{value:h,valid:I,passwordShown:i,handleChange:x,handleClear:b,togglePassword:T}}const S=({clearable:e,isPasswordButtonVisible:l,handleClear:a,togglePassword:m,passwordShown:r,label:f,disabled:n})=>t.jsxs("span",{children:[e&&t.jsx(M,{view:B.Inner,onClick:a,label:`Clear input for ${f}`,icon:F.Delete,disabled:n}),l&&t.jsx(M,{onClick:m,view:B.Inner,label:"Toggle password visibility",icon:r?F.EyeOff:F.Eye,disabled:n})]});try{S.displayName="TextInputButtons",S.__docgenInfo={description:"",displayName:"TextInputButtons",props:{clearable:{defaultValue:null,description:"",name:"clearable",required:!0,type:{name:"boolean"}},isPasswordButtonVisible:{defaultValue:null,description:"",name:"isPasswordButtonVisible",required:!0,type:{name:"boolean"}},handleClear:{defaultValue:null,description:"",name:"handleClear",required:!0,type:{name:"() => void"}},togglePassword:{defaultValue:null,description:"",name:"togglePassword",required:!0,type:{name:"() => void"}},passwordShown:{defaultValue:null,description:"",name:"passwordShown",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch{}const N=({name:e,label:l,errorMessage:a,defaultValue:m,onChange:r,onBlur:f,onFocus:n,onClear:v,validator:c,maxLength:h,id:y,tabIndex:I,placeholder:s="Type here...",disabled:i=!1,required:g=!1,clearable:V=!0,readOnly:d=!1,autoComplete:x="off",type:b="text",className:C,style:T})=>{const{value:q,valid:u,handleChange:o,handleClear:L,passwordShown:_,togglePassword:H}=Q({defaultValue:m,name:e,onChange:r,onClear:v,required:g,validator:c}),{elementId:w,errorId:E}=D(y),W=b==="password",$=k(["cl-text-input",C]);return t.jsxs("div",{style:T,className:$,children:[t.jsx(O,{label:l,required:g,inputId:w}),t.jsxs(A,{id:w,name:e,type:_?"text":b,disabled:i,placeholder:s,required:g,readOnly:d,autoComplete:x,"aria-invalid":!u,"aria-errormessage":E,"aria-readonly":d,value:q,onChange:o,maxLength:h,onBlur:f,onFocus:n,tabIndex:I,children:[t.jsx(S,{clearable:V,isPasswordButtonVisible:W,handleClear:L,togglePassword:H,passwordShown:_,label:l,disabled:i}),t.jsx(R,{errorId:E,message:a,visible:!u,className:"cl-text-input__error-message"})]})]})};try{N.displayName="TextInputStateful",N.__docgenInfo={description:"",displayName:"TextInputStateful",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const j=({name:e,label:l,errorMessage:a,value:m,onChange:r,onBlur:f,onFocus:n,onClear:v,maxLength:c,id:h,tabIndex:y,placeholder:I="Type here...",disabled:s=!1,required:i=!1,clearable:g=!0,readOnly:V=!1,autoComplete:d="off",type:x="text",className:b,style:C,defaultValue:T})=>{const q=h??`text-input-${e}`,u=`${e}-error`,[o,L]=p.useState(!1),_=x==="password",H=k(["cl-text-input",b]),w=()=>{L(!o)},E=()=>{r&&r({target:{value:""}}),v?.()};return t.jsxs("div",{style:C,className:H,children:[t.jsx(O,{label:l,required:i,inputId:q}),t.jsxs(A,{id:q,name:e,type:o?"text":x,disabled:s,placeholder:I,required:i,readOnly:V,defaultValue:T,autoComplete:d,"aria-invalid":!!a,"aria-errormessage":u,"aria-readonly":V,value:m??"",onChange:r,maxLength:c,onBlur:f,onFocus:n,tabIndex:y,children:[t.jsx(S,{clearable:g,isPasswordButtonVisible:_,handleClear:E,togglePassword:w,passwordShown:o,label:l,disabled:s}),t.jsx(R,{errorId:u,message:a,visible:!!a,className:"cl-text-input__error-message"})]})]})};try{j.displayName="TextInputStateless",j.__docgenInfo={description:"",displayName:"TextInputStateless",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const P=e=>e.stateless?t.jsx(j,{...e}):t.jsx(N,{...e});try{P.displayName="TextInput",P.__docgenInfo={description:"TextInput component factory\nRenders either a stateful or stateless component\nbased on the `stateless` prop.",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:null,description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{P as T};
