var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var S=(t,a,e)=>a in t?J(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,N=(t,a)=>{for(var e in a||(a={}))L.call(a,e)&&S(t,e,a[e]);if(g)for(var e of g(a))H.call(a,e)&&S(t,e,a[e]);return t},B=(t,a)=>K(t,Q(a));var R=(t,a)=>{var e={};for(var r in t)L.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&g)for(var r of g(t))a.indexOf(r)<0&&H.call(t,r)&&(e[r]=t[r]);return e};import{r as m,j as s}from"./iframe-DGLPjSHb.js";import{B as P,a as k}from"./Button-Bkbj21Uc.js";import{E as U}from"./ErrorMessage-CA_OvI16.js";import{I as X}from"./Input-DX9Xd3Tc.js";import{L as Y}from"./Label-rlm6Xgpz.js";import{I as T}from"./Icon-Coy0pRmj.js";import{u as Z}from"./use-element-ids-CCLjb5t5.js";import{g as ee}from"./get-class-name-CHDn80c0.js";import{F as te,u as ae}from"./use-reset-form-input-D9nhGyE4.js";function re({value:t,required:a,validator:e}){return a&&!e&&!t.length?!1:e&&typeof e=="function"?e(t):e&&typeof e=="object"?new RegExp(e.regexp,e==null?void 0:e.flags).test(t):!0}function le({name:t,initialValues:a,defaultValue:e}){return a!=null&&a[t]?a[t].toString():e&&typeof e=="string"?e:""}function se({name:t,defaultValue:a,onChange:e,onClear:r,required:x,validator:V}){const{onChangeFormInput:l,initialValues:v}=m.useContext(te),u=le({initialValues:v,defaultValue:a,name:t}),[b,i]=m.useState(u),[q,o]=m.useState(!0),[n,d]=m.useState(!1),w=y=>{const p=y.target.value,h=re({value:p,required:x,validator:V});i(p),o(h),l==null||l({name:t,value:p,valid:h}),e==null||e(y)},f=()=>{i(""),o(!0),l==null||l({name:t,value:"",valid:!0}),r==null||r()},I=m.useCallback(()=>{i(u),o(!0),l==null||l({name:t,value:u,valid:!0})},[t]),c=()=>{d(!n)};return ae(I),{value:b,valid:q,passwordShown:n,handleChange:w,handleClear:f,togglePassword:c}}const ne="_wrapper_bu2uu_1",ue="_errorMessage_bu2uu_7",F={wrapper:ne,errorMessage:ue},A=h=>{var _=h,{name:t,label:a,errorMessage:e,defaultValue:r,onChange:x,onBlur:V,onFocus:l,onClear:v,validator:u,maxLength:b,id:i,tabIndex:q,placeholder:o="Type here...",disabled:n=!1,required:d=!1,clearable:w=!0,readOnly:f=!1,autoComplete:I="off",type:c="text",className:y}=_,p=R(_,["name","label","errorMessage","defaultValue","onChange","onBlur","onFocus","onClear","validator","maxLength","id","tabIndex","placeholder","disabled","required","clearable","readOnly","autoComplete","type","className"]);const{value:O,valid:E,handleChange:W,handleClear:$,passwordShown:C,togglePassword:z}=se({defaultValue:r,name:t,onChange:x,onClear:v,required:d,validator:u}),{elementId:M,errorId:j}=Z(i),D=c==="password",G=ee([F.wrapper,y]);return s.jsxs("div",B(N({},p),{className:G,children:[s.jsx(Y,{label:a,required:d,inputId:M}),s.jsxs(X,{id:M,name:t,type:C?"text":c,disabled:n,placeholder:o,required:d,readOnly:f,autoComplete:I,"aria-invalid":!E,"aria-errormessage":j,"aria-readonly":f,value:O,onChange:W,maxLength:b,onBlur:V,onFocus:l,tabIndex:q,children:[s.jsxs("span",{children:[w&&s.jsx(P,{view:k.Inner,onClick:$,label:`Clear input for ${a}`,icon:T.Remove,disabled:n}),D&&s.jsx(P,{onClick:z,view:k.Inner,label:"Toggle password visibility",icon:C?T.Hide:T.Show,disabled:n})]}),s.jsx(U,{errorId:j,message:e,visible:!E,className:F.errorMessage})]})]}))};try{A.displayName="TextInput",A.__docgenInfo={description:"",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(t){}export{A as T};
