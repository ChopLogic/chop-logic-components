var K=Object.defineProperty;var P=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var R=(e,t,a)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,N=(e,t)=>{for(var a in t||(t={}))Q.call(t,a)&&R(e,a,t[a]);if(P)for(var a of P(t))U.call(t,a)&&R(e,a,t[a]);return e};import{r as c,j as n}from"./iframe-CD-frcvH.js";import{E as W}from"./ErrorMessage-BdcIUYTL.js";import{I as $}from"./Input-CLTTdF8j.js";import{L as z}from"./Label-ByMmsEMn.js";import{u as X}from"./use-element-ids-wl8PXiJz.js";import{g as D}from"./get-class-name-BY88G7uf.js";import{F as Y,u as Z}from"./use-reset-form-input-BnHQOTg2.js";import{a as A,B as O}from"./Button-DDUA5BZI.js";import{I as j}from"./Icon-B65JLDHH.js";function ee({value:e,required:t,validator:a}){return t&&!a&&!e.length?!1:a&&typeof a=="function"?a(e):a&&typeof a=="object"?new RegExp(a.regexp,a==null?void 0:a.flags).test(e):!0}function ae({name:e,initialValues:t,defaultValue:a}){return t!=null&&t[e]?t[e].toString():a&&typeof a=="string"?a:""}function te({name:e,defaultValue:t,onChange:a,onClear:r,required:s,validator:y}){const{onChangeFormInput:l,initialValues:g}=c.useContext(Y),V=ae({initialValues:g,defaultValue:t,name:e}),[q,b]=c.useState(V),[I,o]=c.useState(!0),[p,x]=c.useState(!1),i=c.useRef(l),m=c.useRef(V);i.current=l,m.current=V;const v=u=>{const d=u.target.value,f=ee({value:d,required:s,validator:y});b(d),o(f),l==null||l({name:e,value:d,valid:f}),a==null||a(u)},h=()=>{b(""),o(!0),l==null||l({name:e,value:"",valid:!0}),r==null||r()},w=c.useCallback(()=>{var u;b(m.current),o(!0),(u=i.current)==null||u.call(i,{name:e,value:m.current,valid:!0})},[e]),_=()=>{x(!p)};return Z(w),{value:q,valid:I,passwordShown:p,handleChange:v,handleClear:h,togglePassword:_}}const le="_wrapper_pivdt_3",ne="_errorMessage_pivdt_10",S={wrapper:le,errorMessage:ne},L=({clearable:e,isPasswordButtonVisible:t,handleClear:a,togglePassword:r,passwordShown:s,label:y,disabled:l})=>n.jsxs("span",{children:[e&&n.jsx(A,{view:O.Inner,onClick:a,label:`Clear input for ${y}`,icon:j.Remove,disabled:l}),t&&n.jsx(A,{onClick:r,view:O.Inner,label:"Toggle password visibility",icon:s?j.Hide:j.Show,disabled:l})]});try{L.displayName="TextInputButtons",L.__docgenInfo={description:"",displayName:"TextInputButtons",props:{clearable:{defaultValue:null,description:"",name:"clearable",required:!0,type:{name:"boolean"}},isPasswordButtonVisible:{defaultValue:null,description:"",name:"isPasswordButtonVisible",required:!0,type:{name:"boolean"}},handleClear:{defaultValue:null,description:"",name:"handleClear",required:!0,type:{name:"() => void"}},togglePassword:{defaultValue:null,description:"",name:"togglePassword",required:!0,type:{name:"() => void"}},passwordShown:{defaultValue:null,description:"",name:"passwordShown",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch(e){}const B=({name:e,label:t,errorMessage:a,defaultValue:r,onChange:s,onBlur:y,onFocus:l,onClear:g,validator:V,maxLength:q,id:b,tabIndex:I,placeholder:o="Type here...",disabled:p=!1,required:x=!1,clearable:i=!0,readOnly:m=!1,autoComplete:v="off",type:h="text",className:w,style:_})=>{const{value:u,valid:d,handleChange:f,handleClear:H,passwordShown:T,togglePassword:M}=te({defaultValue:r,name:e,onChange:s,onClear:g,required:x,validator:V}),{elementId:C,errorId:E}=X(b),G=h==="password",J=D([S.wrapper,w]);return n.jsxs("div",{style:_,className:J,children:[n.jsx(z,{label:t,required:x,inputId:C}),n.jsxs($,{id:C,name:e,type:T?"text":h,disabled:p,placeholder:o,required:x,readOnly:m,autoComplete:v,"aria-invalid":!d,"aria-errormessage":E,"aria-readonly":m,value:u,onChange:f,maxLength:q,onBlur:y,onFocus:l,tabIndex:I,children:[n.jsx(L,{clearable:i,isPasswordButtonVisible:G,handleClear:H,togglePassword:M,passwordShown:T,label:t,disabled:p}),n.jsx(W,{errorId:E,message:a,visible:!d,className:S.errorMessage})]})]})};try{B.displayName="TextInputStateful",B.__docgenInfo={description:"",displayName:"TextInputStateful",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const F=({name:e,label:t,errorMessage:a,value:r,onChange:s,onBlur:y,onFocus:l,onClear:g,maxLength:V,id:q,tabIndex:b,placeholder:I="Type here...",disabled:o=!1,required:p=!1,clearable:x=!0,readOnly:i=!1,autoComplete:m="off",type:v="text",className:h,style:w,defaultValue:_})=>{const u=q!=null?q:`text-input-${e}`,d=`${e}-error`,[f,H]=c.useState(!1),T=v==="password",M=D([S.wrapper,h]),C=()=>{H(!f)},E=()=>{s&&s({target:{value:""}}),g==null||g()};return n.jsxs("div",{style:w,className:M,children:[n.jsx(z,{label:t,required:p,inputId:u}),n.jsxs($,{id:u,name:e,type:f?"text":v,disabled:o,placeholder:I,required:p,readOnly:i,defaultValue:_,autoComplete:m,"aria-invalid":!!a,"aria-errormessage":d,"aria-readonly":i,value:r!=null?r:"",onChange:s,maxLength:V,onBlur:y,onFocus:l,tabIndex:b,children:[n.jsx(L,{clearable:x,isPasswordButtonVisible:T,handleClear:E,togglePassword:C,passwordShown:f,label:t,disabled:o}),n.jsx(W,{errorId:d,message:a,visible:!!a,className:S.errorMessage})]})]})};try{F.displayName="TextInputStateless",F.__docgenInfo={description:"",displayName:"TextInputStateless",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const k=e=>e.stateless?n.jsx(F,N({},e)):n.jsx(B,N({},e));try{k.displayName="TextInput",k.__docgenInfo={description:"TextInput component factory\nRenders either a stateful or stateless component\nbased on the `stateless` prop.",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:null,description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}export{k as T};
