var ee=Object.defineProperty,ae=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var W=(e,t,a)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,T=(e,t)=>{for(var a in t||(t={}))$.call(t,a)&&W(e,a,t[a]);if(L)for(var a of L(t))z.call(t,a)&&W(e,a,t[a]);return e},F=(e,t)=>ae(e,te(t));var P=(e,t)=>{var a={};for(var l in e)$.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&L)for(var l of L(e))t.indexOf(l)<0&&z.call(e,l)&&(a[l]=e[l]);return a};import{r as f,j as r}from"./iframe-ByKzMmaK.js";import{E as K}from"./ErrorMessage-DztSsQ3-.js";import{I as Q}from"./Input-BLKqcVQ-.js";import{L as U}from"./Label-DQdSVFEl.js";import{u as le}from"./use-element-ids-CshNHWkw.js";import{g as X}from"./get-class-name-BY88G7uf.js";import{F as ne,u as re}from"./use-reset-form-input-DpBZcUfi.js";import{a as D,B as G}from"./Button-Bdkp_iJJ.js";import{I as R}from"./Icon-BZD9s1Z_.js";function ue({value:e,required:t,validator:a}){return t&&!a&&!e.length?!1:a&&typeof a=="function"?a(e):a&&typeof a=="object"?new RegExp(a.regexp,a==null?void 0:a.flags).test(e):!0}function se({name:e,initialValues:t,defaultValue:a}){return t!=null&&t[e]?t[e].toString():a&&typeof a=="string"?a:""}function ie({name:e,defaultValue:t,onChange:a,onClear:l,required:u,validator:c}){const{onChangeFormInput:n,initialValues:y}=f.useContext(ne),g=se({initialValues:y,defaultValue:t,name:e}),[V,q]=f.useState(g),[w,o]=f.useState(!0),[p,b]=f.useState(!1),s=f.useRef(n),m=f.useRef(g);s.current=n,m.current=g;const v=i=>{const d=i.target.value,x=ue({value:d,required:u,validator:c});q(d),o(x),n==null||n({name:e,value:d,valid:x}),a==null||a(i)},h=()=>{q(""),o(!0),n==null||n({name:e,value:"",valid:!0}),l==null||l()},_=f.useCallback(()=>{var i;q(m.current),o(!0),(i=s.current)==null||i.call(s,{name:e,value:m.current,valid:!0})},[e]),C=()=>{b(!p)};return re(_),{value:V,valid:w,passwordShown:p,handleChange:v,handleClear:h,togglePassword:C}}const de="_wrapper_pivdt_3",oe="_errorMessage_pivdt_10",H={wrapper:de,errorMessage:oe},M=({clearable:e,isPasswordButtonVisible:t,handleClear:a,togglePassword:l,passwordShown:u,label:c,disabled:n})=>r.jsxs("span",{children:[e&&r.jsx(D,{view:G.Inner,onClick:a,label:`Clear input for ${c}`,icon:R.Remove,disabled:n}),t&&r.jsx(D,{onClick:l,view:G.Inner,label:"Toggle password visibility",icon:u?R.Hide:R.Show,disabled:n})]});try{M.displayName="TextInputButtons",M.__docgenInfo={description:"",displayName:"TextInputButtons",props:{clearable:{defaultValue:null,description:"",name:"clearable",required:!0,type:{name:"boolean"}},isPasswordButtonVisible:{defaultValue:null,description:"",name:"isPasswordButtonVisible",required:!0,type:{name:"boolean"}},handleClear:{defaultValue:null,description:"",name:"handleClear",required:!0,type:{name:"() => void"}},togglePassword:{defaultValue:null,description:"",name:"togglePassword",required:!0,type:{name:"() => void"}},passwordShown:{defaultValue:null,description:"",name:"passwordShown",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch(e){}const A=i=>{var d=i,{name:e,label:t,errorMessage:a,defaultValue:l,onChange:u,onBlur:c,onFocus:n,onClear:y,validator:g,maxLength:V,id:q,tabIndex:w,placeholder:o="Type here...",disabled:p=!1,required:b=!1,clearable:s=!0,readOnly:m=!1,autoComplete:v="off",type:h="text",className:_}=d,C=P(d,["name","label","errorMessage","defaultValue","onChange","onBlur","onFocus","onClear","validator","maxLength","id","tabIndex","placeholder","disabled","required","clearable","readOnly","autoComplete","type","className"]);const{value:x,valid:I,handleChange:N,handleClear:j,passwordShown:E,togglePassword:B}=ie({defaultValue:l,name:e,onChange:u,onClear:y,required:b,validator:g}),{elementId:S,errorId:k}=le(q),Y=h==="password",Z=X([H.wrapper,_]);return r.jsxs("div",F(T({},C),{className:Z,children:[r.jsx(U,{label:t,required:b,inputId:S}),r.jsxs(Q,{id:S,name:e,type:E?"text":h,disabled:p,placeholder:o,required:b,readOnly:m,autoComplete:v,"aria-invalid":!I,"aria-errormessage":k,"aria-readonly":m,value:x,onChange:N,maxLength:V,onBlur:c,onFocus:n,tabIndex:w,children:[r.jsx(M,{clearable:s,isPasswordButtonVisible:Y,handleClear:j,togglePassword:B,passwordShown:E,label:t,disabled:p}),r.jsx(K,{errorId:k,message:a,visible:!I,className:H.errorMessage})]})]}))};try{A.displayName="TextInputStateful",A.__docgenInfo={description:"",displayName:"TextInputStateful",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const O=C=>{var i=C,{name:e,label:t,errorMessage:a,value:l,onChange:u,onBlur:c,onFocus:n,onClear:y,maxLength:g,id:V,tabIndex:q,placeholder:w="Type here...",disabled:o=!1,required:p=!1,clearable:b=!0,readOnly:s=!1,autoComplete:m="off",type:v="text",className:h}=i,_=P(i,["name","label","errorMessage","value","onChange","onBlur","onFocus","onClear","maxLength","id","tabIndex","placeholder","disabled","required","clearable","readOnly","autoComplete","type","className"]);const d=V!=null?V:`text-input-${e}`,x=`${e}-error`,[I,N]=f.useState(!1),j=v==="password",E=X([H.wrapper,h]),B=()=>{N(!I)},S=()=>{u&&u({target:{value:""}}),y==null||y()};return r.jsxs("div",F(T({},_),{className:E,children:[r.jsx(U,{label:t,required:p,inputId:d}),r.jsxs(Q,{id:d,name:e,type:I?"text":v,disabled:o,placeholder:w,required:p,readOnly:s,autoComplete:m,"aria-invalid":!!a,"aria-errormessage":x,"aria-readonly":s,value:l!=null?l:"",onChange:u,maxLength:g,onBlur:c,onFocus:n,tabIndex:q,children:[r.jsx(M,{clearable:b,isPasswordButtonVisible:j,handleClear:S,togglePassword:B,passwordShown:I,label:t,disabled:o}),r.jsx(K,{errorId:x,message:a,visible:!!a,className:H.errorMessage})]})]}))};try{O.displayName="TextInputStateless",O.__docgenInfo={description:"",displayName:"TextInputStateless",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}const J=e=>e.stateless?r.jsx(O,T({},e)):r.jsx(A,T({},e));try{J.displayName="TextInput",J.__docgenInfo={description:"TextInput component factory\nRenders either a stateful or stateless component\nbased on the `stateless` prop.",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:null,description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | TextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},stateless:{defaultValue:null,description:"",name:"stateless",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch(e){}export{J as T};
