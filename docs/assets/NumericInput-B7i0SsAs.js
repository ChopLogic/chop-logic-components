import{r as b,C as A,j as i}from"./iframe-C3nnaSfA.js";import{C as M}from"./Icon-BBWlz8VR.js";import{a as G}from"./use-key-press-C9iHSrXH.js";import{u as O}from"./use-reset-form-input-BoFkPjiQ.js";import{g as S}from"./get-class-name-CHDn80c0.js";import{L as $,I as D,B as C,E as P}from"./Input-BHIenv_q.js";import"./Loader-C-BUGyvV.js";import"./Portal-DRzz8wUD.js";function X({name:e,initialValues:r,defaultValue:a}){return r&&r[e]?Number(r[e]):a&&typeof a=="number"?a:0}function w({value:e,required:r,validator:a,maxValue:n,minValue:l}){return r&&!a&&e===void 0?!1:a&&typeof a=="function"?a(e):n&&l&&e&&!a?e<=n&&e>=l:!0}function z({name:e,defaultValue:r,onChange:a,onSpinButtonClick:n,min:l,max:V,step:m,required:v,validator:q}){const{onChangeFormInput:u,initialValues:x}=b.useContext(A),p=X({initialValues:x,defaultValue:r,name:e}),o=V?Number(V):Number.MAX_SAFE_INTEGER,d=l?Number(l):Number.MIN_SAFE_INTEGER,[s,g]=b.useState(p),[_,f]=b.useState(!0),y=t=>{g(t);const c=w({value:t,required:v,validator:q,maxValue:o,minValue:d});f(c),u==null||u({name:e,value:t,valid:c})},h=t=>{const c=Number(t.target.value);y(c),a==null||a(t)},I=()=>{y(s+m),n==null||n(s+m)},N=()=>{y(s-m),n==null||n(s-m)},E=b.useCallback(()=>{g(p),f(!0),u==null||u({name:e,value:p,valid:!0})},[e]);return O(E),{handleChange:h,value:s,valid:_,minValue:d,maxValue:o,increment:I,decrement:N}}const J="_numeric_f3656_1",K="_errorMessage_f3656_8",L={numeric:J,errorMessage:K},ae=({name:e,label:r,errorMessage:a,onChange:n,onBlur:l,onFocus:V,onSpinButtonClick:m,validator:v,min:q,max:u,id:x,tabIndex:p,disabled:o=!1,required:d=!1,readOnly:s=!1,hasSpinButtons:g=!0,defaultValue:_=0,step:f=1,className:y,...h})=>{const{elementId:I,errorId:N}=G(x),{value:E,valid:t,handleChange:c,increment:j,decrement:H,minValue:R,maxValue:F}=z({name:e,defaultValue:_,min:q,max:u,onChange:n,required:d,validator:v,step:f,onSpinButtonClick:m}),T=S([L.numeric,y]);return i.jsxs("div",{...h,className:T,children:[i.jsx($,{label:r,required:d,inputId:I}),i.jsx(D,{id:I,name:e,type:"number",disabled:o,required:d,readOnly:s,placeholder:"0","aria-invalid":!t,"aria-errormessage":N,value:E.toString(),onChange:c,min:R,max:F,step:f,onBlur:l,onFocus:V,tabIndex:p,children:g&&i.jsxs("span",{children:[i.jsx(C,{onClick:H,label:`Decrement value for ${r}`,icon:M.ChevronLeft,disabled:o}),i.jsx(C,{onClick:j,label:`Increment value for ${r}`,icon:M.ChevronRight,disabled:o})]})}),i.jsx(P,{errorId:N,message:a,visible:!t,className:L.errorMessage})]})};try{NumericInput.displayName="NumericInput",NumericInput.__docgenInfo={description:"",displayName:"NumericInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicNumericInputValidator"}},hasSpinButtons:{defaultValue:{value:"true"},description:"",name:"hasSpinButtons",required:!1,type:{name:"boolean"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},step:{defaultValue:{value:"1"},description:"",name:"step",required:!1,type:{name:"number"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:{value:"0"},description:"",name:"defaultValue",required:!1,type:{name:"number"}},onSpinButtonClick:{defaultValue:null,description:"",name:"onSpinButtonClick",required:!1,type:{name:"((value?: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{ae as C};
