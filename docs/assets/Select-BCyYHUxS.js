import{j as i}from"./jsx-runtime-OAISXtky.js";import{r as b}from"./index-qVDZzPEr.js";import{b as V}from"./Label-BFqmiq52.js";import{S as g,d as _,b as I,h as v,m as w,c as j}from"./Select.styled-BJZBRQF3.js";import{C as L,u as k,c as D}from"./index-BT98D5zi.js";import{u as N}from"./index-Bg4JDWSn.js";import{u as O}from"./index-BeH7sH-W.js";import E from"./ArrowDownIcon-CKvzOX2F.js";import K from"./ArrowUpIcon-B10qXdoa.js";import T from"./CheckMarkIcon-BtcQ9zhB.js";import{u as $}from"./index-bc0GsKql.js";const P=({opened:t,onClick:n,comboboxId:l,dropdownId:a,selected:e,name:d,placeholder:r,disabled:u,required:s,theme:p})=>i.jsxs(g,{type:"button",name:d,value:e==null?void 0:e.id,role:"combobox","aria-haspopup":"listbox","aria-expanded":t,"aria-controls":a,id:l,onClick:n,disabled:u,"aria-required":s,$theme:p,children:[e!=null&&e.label?i.jsx("span",{children:e==null?void 0:e.label}):i.jsx("span",{children:r}),t?i.jsx(K,{}):i.jsx(E,{})]});try{Combobox.displayName="Combobox",Combobox.__docgenInfo={description:"",displayName:"Combobox",props:{opened:{defaultValue:null,description:"",name:"opened",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},comboboxId:{defaultValue:null,description:"",name:"comboboxId",required:!0,type:{name:"string"}},dropdownId:{defaultValue:null,description:"",name:"dropdownId",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"ChopLogicSelectValue"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"ChopLogicTheme"}}}}}catch{}const R=({value:t,selected:n,onSelect:l,onClear:a,theme:e})=>{const{id:d,label:r}=t,u=p=>{n?a():l(p)},s=p=>o=>{switch(o.key){case" ":case"SpaceBar":case"Enter":o.preventDefault(),u(p);break}};return i.jsxs(_,{id:d,role:"option","aria-selected":n,tabIndex:0,onKeyDown:s(d),onClick:()=>u(d),$theme:e,$selected:n,children:[i.jsx("span",{children:r}),n&&i.jsx(T,{})]})};try{Option.displayName="Option",Option.__docgenInfo={description:"",displayName:"Option",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChopLogicSelectValue"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(id: string) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"ChopLogicTheme"}}}}}catch{}const A=({options:t,opened:n,onClose:l,onSelect:a,dropdownId:e,comboboxId:d,selected:r,onClear:u,theme:s})=>{const p=o=>{a(o),l(),w(d)};return i.jsx(I,{role:"listbox",id:e,tabIndex:-1,onKeyDown:o=>v({e:o,options:t,onClose:l}),$opened:n,$theme:s,children:t.map(o=>i.jsx(R,{value:o,onSelect:()=>p(o.id),onClear:u,selected:o.id===(r==null?void 0:r.id),theme:s},o.id))})};try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ChopLogicSelectValue[]"}},opened:{defaultValue:null,description:"",name:"opened",required:!0,type:{name:"boolean"}},dropdownId:{defaultValue:null,description:"",name:"dropdownId",required:!0,type:{name:"string"}},comboboxId:{defaultValue:null,description:"",name:"comboboxId",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"ChopLogicSelectValue"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(id: string) => void"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"ChopLogicTheme"}}}}}catch{}function B({name:t,options:n,initialValues:l,defaultValue:a}){var d;let e;return l&&l[t]&&(e=((d=l[t])==null?void 0:d.id)??l[t]),!(l!=null&&l[t])&&a&&typeof a=="string"&&(e=a),n.find(r=>r.id===e)}function H({name:t,defaultValue:n,onChange:l,options:a}){const{onChangeFormInput:e,initialValues:d}=b.useContext(L),r=B({name:t,options:a,defaultValue:n,initialValues:d}),[u,s]=b.useState(!1),[p,o]=b.useState(r),m=()=>s(!1),f=()=>s(!u),h=x=>{const c=a.find(q=>q.id===x);o(c),l==null||l(c),e==null||e({name:t,value:c==null?void 0:c.id})},S=()=>{o(void 0),l==null||l(void 0)},y=b.useCallback(()=>{s(!1),o(r),e==null||e({name:t,value:r==null?void 0:r.id})},[t]);return $(y),{selected:p,opened:u,handleClear:S,handleClose:m,handleToggle:f,handleSelect:h}}const ee=({options:t,onChange:n,name:l,label:a,defaultValue:e,id:d,placeholder:r="Not selected",required:u=!1,disabled:s=!1,...p})=>{const o=b.useRef(null),m=k(),{elementId:f,dropdownId:h}=D(d),{handleClear:S,handleClose:y,handleSelect:x,handleToggle:c,selected:q,opened:C}=H({options:t,onChange:n,defaultValue:e,name:l});return N({ref:o,onClickOutsideHandler:y}),O({keyCode:"Escape",ref:o,onKeyPress:y}),i.jsxs(j,{ref:o,$theme:m,...p,children:[i.jsx(V,{label:a,required:u,inputId:f,theme:m}),i.jsx(P,{name:l,opened:C,comboboxId:f,dropdownId:h,onClick:c,selected:q,placeholder:r,disabled:s,required:u,theme:m}),i.jsx(A,{options:t,selected:q,opened:C,onClose:y,dropdownId:h,comboboxId:f,onSelect:x,onClear:S,theme:m})]})};try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ChopLogicSelectValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: ChopLogicSelectValue) => void)"}},placeholder:{defaultValue:{value:"Not selected"},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | readonly string[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{ee as C};
