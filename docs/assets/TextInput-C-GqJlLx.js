import{r as c,C as B,j as r}from"./iframe-C3nnaSfA.js";import{C}from"./Icon-BBWlz8VR.js";import{a as P}from"./use-key-press-C9iHSrXH.js";import{u as k}from"./use-reset-form-input-BoFkPjiQ.js";import{g as A}from"./get-class-name-CHDn80c0.js";import{L as F,I as O,B as E,E as W}from"./Input-BHIenv_q.js";import"./Loader-C-BUGyvV.js";import"./Portal-DRzz8wUD.js";function $({value:t,required:a,validator:e}){return a&&!e&&!t.length?!1:e&&typeof e=="function"?e(t):e&&typeof e=="object"?new RegExp(e.regexp,e==null?void 0:e.flags).test(t):!0}function z({name:t,initialValues:a,defaultValue:e}){return a&&(a!=null&&a[t])?a[t].toString():e&&typeof e=="string"?e:""}function D({name:t,defaultValue:a,onChange:e,onClear:s,required:x,validator:h}){const{onChangeFormInput:l,initialValues:q}=c.useContext(B),u=z({initialValues:q,defaultValue:a,name:t}),[V,o]=c.useState(u),[v,i]=c.useState(!0),[n,d]=c.useState(!1),I=g=>{const p=g.target.value,y=$({value:p,required:x,validator:h});o(p),i(y),l==null||l({name:t,value:p,valid:y}),e==null||e(g)},f=()=>{o(""),i(!0),l==null||l({name:t,value:"",valid:!0}),s==null||s()},b=c.useCallback(()=>{o(u),i(!0),l==null||l({name:t,value:u,valid:!0})},[t]),m=()=>{d(!n)};return k(b),{value:V,valid:v,passwordShown:n,handleChange:I,handleClear:f,togglePassword:m}}const G="_text_pqf4d_1",J="_errorMessage_pqf4d_8",M={text:G,errorMessage:J},ae=({name:t,label:a,errorMessage:e,defaultValue:s,onChange:x,onBlur:h,onFocus:l,onClear:q,validator:u,maxLength:V,id:o,tabIndex:v,placeholder:i="Type here...",disabled:n=!1,required:d=!1,clearable:I=!0,readOnly:f=!1,autoComplete:b="off",type:m="text",className:g,...p})=>{const{value:y,valid:T,handleChange:j,handleClear:S,passwordShown:w,togglePassword:H}=D({defaultValue:s,name:t,onChange:x,onClear:q,required:d,validator:u}),{elementId:L,errorId:_}=P(o),N=m==="password",R=A([M.text,g]);return r.jsxs("div",{...p,className:R,children:[r.jsx(F,{label:a,required:d,inputId:L}),r.jsx(O,{id:L,name:t,type:w?"text":m,disabled:n,placeholder:i,required:d,readOnly:f,autoComplete:b,"aria-invalid":!T,"aria-errormessage":_,"aria-readonly":f,value:y,onChange:j,maxLength:V,onBlur:h,onFocus:l,tabIndex:v,children:r.jsxs("span",{children:[I&&r.jsx(E,{onClick:S,label:`Clear input for ${a}`,icon:C.Remove,disabled:n}),N&&r.jsx(E,{onClick:H,label:"Toggle password visibility",icon:w?C.Hide:C.Show,disabled:n})]})}),r.jsx(W,{errorId:_,message:e,visible:!T,className:M.errorMessage})]})};try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | ChopLogicTextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{ae as C};
