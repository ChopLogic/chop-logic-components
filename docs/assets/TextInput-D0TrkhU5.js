import{r as c,C as P,j as l}from"./iframe-CrArNGRw.js";import{C as E,a as M}from"./Button-CxK7O7_f.js";import{C as w}from"./Icon-DIoQVp2Y.js";import{c as k,L as A,h as F,E as O}from"./Header-B5vN0EW1.js";import{u as W}from"./use-reset-form-input-8DRyh_nF.js";import{g as $}from"./get-class-name-CHDn80c0.js";import"./Loader-BNVb9kEc.js";import"./Portal-Ew3E3LJ6.js";import"./Checkbox-CzF6Y5Op.js";import"./MultiSelect-CrfVaaUF.js";import"./NumericInput-D25HSE1Q.js";import"./Select-BqR4HHLk.js";function z({value:t,required:a,validator:e}){return a&&!e&&!t.length?!1:e&&typeof e=="function"?e(t):e&&typeof e=="object"?new RegExp(e.regexp,e==null?void 0:e.flags).test(t):!0}function D({name:t,initialValues:a,defaultValue:e}){return a&&(a!=null&&a[t])?a[t].toString():e&&typeof e=="string"?e:""}function G({name:t,defaultValue:a,onChange:e,onClear:s,required:x,validator:h}){const{onChangeFormInput:r,initialValues:v}=c.useContext(P),u=D({initialValues:v,defaultValue:a,name:t}),[V,o]=c.useState(u),[b,i]=c.useState(!0),[n,p]=c.useState(!1),q=g=>{const d=g.target.value,y=z({value:d,required:x,validator:h});o(d),i(y),r==null||r({name:t,value:d,valid:y}),e==null||e(g)},m=()=>{o(""),i(!0),r==null||r({name:t,value:"",valid:!0}),s==null||s()},C=c.useCallback(()=>{o(u),i(!0),r==null||r({name:t,value:u,valid:!0})},[t]),f=()=>{p(!n)};return W(C),{value:V,valid:b,passwordShown:n,handleChange:q,handleClear:m,togglePassword:f}}const J="_wrapper_bu2uu_1",K="_errorMessage_bu2uu_7",j={wrapper:J,errorMessage:K},ue=({name:t,label:a,errorMessage:e,defaultValue:s,onChange:x,onBlur:h,onFocus:r,onClear:v,validator:u,maxLength:V,id:o,tabIndex:b,placeholder:i="Type here...",disabled:n=!1,required:p=!1,clearable:q=!0,readOnly:m=!1,autoComplete:C="off",type:f="text",className:g,...d})=>{const{value:y,valid:I,handleChange:S,handleClear:H,passwordShown:L,togglePassword:N}=G({defaultValue:s,name:t,onChange:x,onClear:v,required:p,validator:u}),{elementId:T,errorId:_}=k(o),R=f==="password",B=$([j.wrapper,g]);return l.jsxs("div",{...d,className:B,children:[l.jsx(A,{label:a,required:p,inputId:T}),l.jsxs(F,{id:T,name:t,type:L?"text":f,disabled:n,placeholder:i,required:p,readOnly:m,autoComplete:C,"aria-invalid":!I,"aria-errormessage":_,"aria-readonly":m,value:y,onChange:S,maxLength:V,onBlur:h,onFocus:r,tabIndex:b,children:[l.jsxs("span",{children:[q&&l.jsx(E,{view:M.Inner,onClick:H,label:`Clear input for ${a}`,icon:w.Remove,disabled:n}),R&&l.jsx(E,{onClick:N,view:M.Inner,label:"Toggle password visibility",icon:L?w.Hide:w.Show,disabled:n})]}),l.jsx(O,{errorId:_,message:e,visible:!I,className:j.errorMessage})]})]})};try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | ChopLogicTextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{ue as C};
