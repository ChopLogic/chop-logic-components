import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{b as R,I as j,C,e as P}from"./Label-eyvL9X9w.js";import{r as c}from"./index-MPVjHJeJ.js";import{u as B}from"./index-DO_bJFOe.js";import{b as k}from"./provider-DcIy4v5X.js";import{u as A}from"./index-CSjOO4Kg.js";import{g as F}from"./get-class-name-CHDn80c0.js";function O({value:t,required:a,validator:e}){return a&&!e&&!t.length?!1:e&&typeof e=="function"?e(t):e&&typeof e=="object"?new RegExp(e.regexp,e==null?void 0:e.flags).test(t):!0}function W({name:t,initialValues:a,defaultValue:e}){return a&&(a!=null&&a[t])?a[t].toString():e&&typeof e=="string"?e:""}function $({name:t,defaultValue:a,onChange:e,onClear:s,required:x,validator:h}){const{onChangeFormInput:l,initialValues:v}=c.useContext(k),u=W({initialValues:v,defaultValue:a,name:t}),[V,i]=c.useState(u),[b,o]=c.useState(!0),[r,d]=c.useState(!1),q=g=>{const p=g.target.value,y=O({value:p,required:x,validator:h});i(p),o(y),l==null||l({name:t,value:p,valid:y}),e==null||e(g)},f=()=>{i(""),o(!0),l==null||l({name:t,value:"",valid:!0}),s==null||s()},I=c.useCallback(()=>{i(u),o(!0),l==null||l({name:t,value:u,valid:!0})},[t]),m=()=>{d(!r)};return A(I),{value:V,valid:b,passwordShown:r,handleChange:q,handleClear:f,togglePassword:m}}const z="_text_oe18s_17",D={text:z},Z=({name:t,label:a,errorMessage:e,defaultValue:s,onChange:x,onBlur:h,onFocus:l,onClear:v,validator:u,maxLength:V,id:i,tabIndex:b,placeholder:o="Type here...",disabled:r=!1,required:d=!1,clearable:q=!0,readOnly:f=!1,autoComplete:I="off",type:m="text",className:g,...p})=>{const{value:y,valid:T,handleChange:_,handleClear:S,passwordShown:L,togglePassword:H}=$({defaultValue:s,name:t,onChange:x,onClear:v,required:d,validator:u}),{elementId:w,errorId:E}=B(i),M=m==="password",N=F([D.text,g]);return n.jsxs("div",{...p,className:N,children:[n.jsx(R,{label:a,required:d,inputId:w}),n.jsxs("div",{children:[n.jsx("input",{id:w,name:t,type:L?"text":m,disabled:r,placeholder:o,required:d,readOnly:f,autoComplete:I,"aria-invalid":!T,"aria-errormessage":E,"aria-readonly":f,value:y,onChange:_,maxLength:V,onBlur:h,onFocus:l,tabIndex:b}),n.jsxs("span",{children:[q&&n.jsx(j,{onClick:S,label:`Clear input for ${a}`,icon:C.Remove,disabled:r}),M&&n.jsx(j,{onClick:H,label:"Toggle password visibility",icon:L?C.Hide:C.Show,disabled:r})]})]}),n.jsx(P,{errorId:E,message:e,visible:!T})]})};try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},clearable:{defaultValue:{value:"true"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'}]}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"ChopLogicRegExpWithFlags | ChopLogicTextInputValidator"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Type here..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"",name:"autoComplete",required:!1,type:{name:"HTMLInputAutoCompleteAttribute"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{Z as C};
