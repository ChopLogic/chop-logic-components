import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Theming/Provider" />

## Theme Provider

The <code>ThemeProvider</code> component wraps your app or Storybook preview to enable light and dark theme switching using React Context.

It supports both dynamic switching via a hook and injected mode through the `injectedMode` prop.

```tsx
import { ThemeProvider } from 'chop-logic-components';

<ThemeProvider>
  <App />
</ThemeProvider>
```

```tsx
import { ThemeProvider, ThemeMode } from 'chop-logic-components';
import { Decorator } from '@storybook/react';

const withTheme: Decorator = (StoryFn, context) => {
  const { backgrounds } = context.globals;
  const backgroundColor = backgrounds?.value ?? '#FFFFFFFF';
  const storybookMode = backgroundColor === '#2B2B2BFF' ? ThemeMode.Dark : ThemeMode.Light;

  return (
    <ThemeProvider injectedMode={storybookMode}>
      <div style={{ backgroundColor }}>
        <StoryFn />
      </div>
    </ThemeProvider>
  );
};

export const decorators = [withTheme];
````


## Theme Hook

The <code>useChopLogicTheme()</code> hook provides access to the theme context and allows to change the theme.

```tsx
import { useChopLogicTheme, ThemeMode } from 'chop-logic-components';

export const ThemeToggleButton = () => {
  const { mode, setMode } = useChopLogicTheme();

  const toggleTheme = () => {
    setMode(mode === ThemeMode.Dark ? ThemeMode.Light : ThemeMode.Dark);
  }

  return (
    <button onClick={toggleTheme}>
      Toggle to {mode === 'dark' ? 'Light' : 'Dark'} Mode
    </button>
  );
};
```
