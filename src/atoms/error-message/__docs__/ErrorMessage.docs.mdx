import { Meta, Controls } from '@storybook/addon-docs/blocks';
import * as ErrorMessageStories from './ErrorMessage.stories';

<Meta of={ErrorMessageStories} title="ErrorMessage" />

# ErrorMessage

A validation error message component designed to display form validation errors with proper accessibility attributes and visibility control.

## Usage

```tsx
import ErrorMessage from 'chop-logic-components';

const AgeInput = () => {
  const [age, setAge] = React.useState(0);
  const errorId = 'age-input-error';
  const errorMessage = 'Enter a number between 1 and 99';
  const isErrorMessageVisible = age < 1 || age > 99;

  return (
    <div>
      <input value={name} onChange={setName} aria-errormessage={errorId} />
      <ErrorMessage errorId={errorId} message={errorMessage} visible={isErrorMessageVisible} />
    </div>
  );
};
```

## Best Practices

1. _Accessibility_: Always provide a meaningful errorId that matches the aria-describedby attribute of the associated form field.
2. _Visibility Management_: Use the visible prop to conditionally show/hide errors based on validation state.
3. _Clear Messaging_: Provide specific, actionable error messages that help users understand how to fix the issue.
4. _Form Association_: Ensure the errorId is properly linked to the form field using aria-describedby for screen reader compatibility.
5. _Testing_: Use the testId prop for reliable end-to-end testing of error states.
6. _Styling_: Apply consistent error styling through CSS classes while maintaining high color contrast for readability.

## Props

<Controls />
