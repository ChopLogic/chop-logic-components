import { Meta, IconGallery, IconItem, Controls } from '@storybook/addon-docs/blocks';
import * as ImageStories from './Image.stories';
import { Icon } from '@atoms';
import { IconName } from '@enums';

<Meta of={ImageStories} title="Image" />

# Image

A responsive and accessible image component that supports multiple source sets, aspect ratio control, lazy loading, and comprehensive error handling for optimal performance and user experience.

## Usage

```tsx
import { Image } from './Image';

// Basic image with lazy loading
<Image
  src="https://example.com/image.jpg"
  alt="Descriptive alt text"
  width="400"
  height="300"
/>

// Image with caption and aspect ratio
<Image
  src="https://example.com/photo.jpg"
  alt="Beautiful landscape"
  caption="Sunset over the mountains"
  aspectRatio="16/9"
/>

// Responsive image with multiple sources
<Image
  src="https://example.com/large.jpg"
  alt="Responsive image example"
  sources={[
    {
      src: 'https://example.com/small.jpg',
      descriptor: '400w',
      media: '(max-width: 480px)',
    },
    {
      src: 'https://example.com/medium.jpg',
      descriptor: '800w',
      media: '(max-width: 1024px)',
    }
  ]}
  sizes="(max-width: 480px) 400px, (max-width: 1024px) 800px, 1200px"
/>
```

## Best Practices

1. _Accessibility_: Always provide meaningful alt text unless the image is purely decorative (use decorative=true and empty alt in that case)
2. _Performance_: Use loading="lazy" for below-the-fold images and decoding="async" for non-critical images
3. _Responsive Images_: Utilize the sources prop with appropriate media queries and descriptors for different screen sizes
4. _Aspect Ratios_: Use the aspectRatio prop to maintain consistent proportions and prevent layout shifts
5. _Error Handling_: Implement onError callbacks to handle broken images gracefully with fallback content
6. _Captions_: Use the caption prop to provide additional context when needed
7. _File Optimization_: Serve images in modern formats (WebP, AVIF) when possible and appropriate sizes for each breakpoint

## Props

<Controls />
