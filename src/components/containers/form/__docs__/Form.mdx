import { Meta, Story, Canvas } from '@storybook/blocks';
import * as ChopLogicFormStories from './Form.stories';

<Meta of={ChopLogicFormStories} title='Form' />

# ChopLogicForm

The `ChopLogicForm` component is a wrapper for one or more inputs. It collects values of these inputs, validates them, and passes them to the handler function when the Submit button is clicked. The component works with both Chop Logic inputs and default HTML inputs.

#### Example

<Canvas>
  <Story of={ChopLogicFormStories.Default} />
</Canvas>

## Usage

```tsx
import React from 'react';
import ChopLogicForm, ChopLogicTextInput, ChopLogicNumericInput from 'chop-logic-components';

const INITIAL_VALUES = {
  firstName: 'John',
  lastName: 'Doe',
  age: 42
}

const ExampleComponent = () => (
  <ChopLogicForm initialValues={INITIAL_VALUES} columns={2}>
    <ChopLogicTextInput name='firstName' id='first-name' label='First Name' />
    <ChopLogicTextInput name='lastName' id='last-name' label='Last Name' />
    <ChopLogicNumericInput name='age' id='age' label='Age' />
  </ChopLogicForm>
);

export default ExampleComponent;
```

### Props

- **children** `React.ReactNode` - Inputs, buttons, and other elements that will be rendered inside the form.
- **columns** `number` - Number of columns in the form (default is one column).
- **initialValues** `ChopLogicFormData` - Object with default values for form inputs.
- **hasReset** `boolean` - Boolean value indicating whether the form has the Reset button (true by default).
- **onClickSubmit** - `(data: ChopLogicFormData) => void` - Function that will be called when the Submit button is clicked. It will receive an object with the current input values ​​as a parameter.
- **HTMLAttributes** - some global HTML attributes (**id**, **className**, **title**, **style**, etc.).

### Types

```ts
type ChopLogicFormProps = PropsWithChildren &
  React.HTMLAttributes<HTMLFormElement> & {
    columns?: number;
    initialValues?: ChopLogicFormData;
    hasReset?: boolean;
    onClickSubmit?: (data: ChopLogicFormData) => void;
  };
```

```ts
type ChopLogicFormData = { [key: string]: unknown };
```

```ts
type ChopLogicFormContextProps = {
  onChangeFormInput?: (params: ChopLogicFormInputParams) => void;
  initialValues?: ChopLogicFormData;
  resetSignal?: number;
};
```
