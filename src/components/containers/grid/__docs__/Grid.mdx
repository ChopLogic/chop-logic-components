import { Meta, Story, Canvas } from '@storybook/blocks';
import * as ChopLogicGridStories from './Grid.stories';

<Meta of={ChopLogicGridStories} title='Grid' />

# ChopLogicGrid

The `ChopLogicGrid` component is a styled grid component built on top of the default HTML `table` element.

#### Example

<Canvas>
  <Story of={ChopLogicGridStories.DefaultGrid} />
</Canvas>

## Usage

```tsx
import React from 'react';
import ChopLogicGrid from 'chop-logic-components';
import { DATA, COLUMS } from './constants';

const ExampleComponent = () => <ChopLogicGrid selectable={false} data={DATA} columns={COLUMNS} />;

export default ExampleComponent;
```

### Props

_Required props_

- **data** `ChopLogicGridItem[]` - An array of items to be displayed in the grid. Each item is a JavaScript object with a mandatory `id` field.
- **columns** `ChopLogicGridColumn[]` - An array of objects that describes the grid columns. Each column must contain `field` property that points to the value in the data item, and `title` property that describes the column title.

_Optional props_

- **selectable** `boolean` - A value that indicates whether the grid has a column with checkboxes.
- **caption** `string` - An optional title of the grid.
- **onSelect** `(ids: string[]) => void` - An optional callback that is called when one or more grid rows are selected or deselected.
- **renderDataItem** `RenderDataItemCallback` - An optional callback that takes a data item and a column field as parameters and returns a JSX element. This callback is required for custom rendering of grid cells.
- **HTMLAttributes** - some global HTML attributes: **className**, **style**, **tabIndex**, etc.

### Types

```ts
type ChopLogicGridProps = {
  columns: ChopLogicGridColumn[];
  data: ChopLogicGridItem[];
  caption?: string;
  id?: string;
  selectable?: boolean;
  tabIndex?: number;
  className?: string;
  style?: React.CSSProperties;
  renderDataItem?: RenderDataItemCallback;
  onSelect?: (ids: string[]) => void;
};
```

```ts
type ChopLogicGridColumn = {
  field: string;
  title?: string;
  component?: React.ReactElement;
  highlighted?: boolean;
  className?: string;
};
```

```ts
type ChopLogicGridItem = {
  id: string;
  disabled?: boolean;
  [key: string]: unknown;
};
```

```ts
export type RenderDataItemCallback = (item: ChopLogicGridItem, field: string) => JSX.Element;
```
