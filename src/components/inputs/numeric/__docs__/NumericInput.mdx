import { Canvas, Meta } from '@storybook/blocks';
import Example from './NumericInputExample.tsx';
import * as NumericInput from './NumericInput.stories.tsx';

<Meta of={NumericInput} title='NumericInput' />

# ChopLogicNumericInput

Numeric input component with standard HTML attributes.

### Example

<Canvas of={NumericInput.Default} />

### Usage

```tsx
import { NumericInput } from 'chop-logic-components';

const Example = () => {
  return (
    <ChopLogicNumericInput
      label='Enter your age'
      name='age'
      errorMessage='Enter a number between 1 and 99'
      validator={(age) => !!age && age >= 1 && age < 100}
    />;
  );
};

export default Example;
```

### Props

_Required props_

- **name** `string` - A string that describes the input for internal use inside a form or another container. Use `camelCase` for the input name.
- **label** `string` - A visible label that describes the input purpose. Any string is acceptable.

_Optional props_

- **id** `string` - Unique identifier of the input on the page. If not specified, the id will be generated automatically.
- **disabled** `boolean` - When disabled, the input cannot be interacted with. `false` by default.
- **readOnly** `boolean` - When readonly, the input cannot be changed. `false` by default.
- **required** `boolean` - A boolean indicating whether the input is required or not. Required input is marked with a red asterisk. `false` by default.
- **hasSpinButtons** `boolean` - A boolean indicating whether to display the spin buttons. Defaults to `true`.
- **validator** `(input: string) => boolean` - A function that checks whether the input value matches the given conditions. When invalid, the input becomes highlighted and displays an error message.
- **errorMessage** `string` - An optional string that displays when the input value is incorrect.
- **onChange** `(event: React.ChangeEvent<HTMLInputElement>) => void` - A function that is called when a user type something in the input. It receives a ChangeEventHandler for handling the event on the input.
- **onFocus** `(event: React.FocusEvent<HTMLInputElement>) => void` - A function that is called when focus is set on the input.
- **onBlur** `(event: React.FocusEvent<HTMLInputElement>) => void` - A function that is called when focus leaves the input.
- **onSpinButtonClick** `(value?: number) => void` - A function that is called when one of the spin buttons is clicked.
- **step** `number` - The number by which the input value is incremented/decremented when pressing keyboard keys. `1` by default.
- **max** `number` - Maximum number in the input. `false` by default.
- **min** `number` - Minimum number in the input.
- **defaultValue** `number` - Initial number in the input. `0` by default.
- **HTMLAttributes** - global HTML attributes: **className**, **title**, **style**, **tabIndex**, etc.

_Common props_

| Prop      | Type                  | Description                                                                                                      | Default     |
| --------- | --------------------- | ---------------------------------------------------------------------------------------------------------------- | ----------- |
| id        | `string`              | The id global attribute defines an identifier (ID) which must be unique in the whole document.                   | `undefined` |
| className | `string`              | The class global attribute is a list of the classes of the element.                                              | `undefined` |
| style     | `React.CSSProperties` | The style global attribute contains CSS styling declarations to be applied to the element.                       | `undefined` |
| tabIndex  | `number`              | The tabindex global attribute allows developers to make HTML elements focusable.                                 | `undefined` |
| title     | `string`              | The title global attribute contains text representing advisory information related to the element it belongs to. | `undefined` |
| theme     | `'light'` or `'dark'` | The component's color theme.                                                                                     | `undefined` |

### Types

```ts
type ChopLogicNumericInputProps = React.InputHTMLAttributes<HTMLInputElement> & {
  name: string;
  label: string;
  errorMessage?: string;
  validator?: NumericValidationFunction;
  onClear?: () => void;
  hasSpinButtons?: boolean;
  onSpinButtonClick?: (value?: number) => void;
};
```

```ts
type NumericValidationFunction = (input?: number) => boolean;
```
