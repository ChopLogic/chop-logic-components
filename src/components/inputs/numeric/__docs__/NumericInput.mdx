import { Canvas, Meta } from '@storybook/blocks';
import * as NumericInput from './NumericInput.stories';

<Meta of={NumericInput} title='NumericInput' />

# ChopLogicNumericInput

Numeric input component with standard HTML attributes.

### Example

<Canvas of={NumericInput.Default} />

### Usage

```tsx
import { ChopLogicNumericInput } from 'chop-logic-components';

const Example = () => {
  return (
    <ChopLogicNumericInput
      label='Enter your age'
      name='age'
      errorMessage='Enter a number between 1 and 99'
      validator={(age) => !!age && age >= 1 && age < 100}
    />
  );
};

export default Example;
```

### Props

| Prop                  | Type                       | Description                                                                                                                              | Default     | Required |
|-----------------------|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|-------------|----------|
| **name**              | `string`                   | A string representing the name attribute of the component, used for form submissions.                                                    | `undefined` | Yes      |
| **label**             | `string`                   | A string that represents the label for the component.                                                                                    | `undefined` | Yes      |
| **validator**         | `(value?: number) => void` | A function or regular expression that allows you to validate an input value and display an error message if validation fails.            | `undefined` | No       |
| **errorMessage**      | `string`                   | An optional string that displays when the input value is incorrect.                                                                      | `undefined` | No       |
| **onChange**          | `ChangeEventHandler`       | A function that is called when a user type something in the input. It receives a ChangeEventHandler for handling the event on the input. | `undefined` | No       |
| **onFocus**           | `FocusEventHandler`        | A function that is called when focus is set on the input.                                                                                | `undefined` | No       |
| **onBlur**            | `FocusEventHandler`        | A function that is called when focus leaves the input.                                                                                   | `undefined` | No       |
| **onSpinButtonClick** | `(value?: number) => void` | A function that is called when one of the spin buttons is clicked.                                                                       | `undefined` | No       |
| **step**              | `number`                   | The number by which the input value is incremented/decremented when pressing keyboard keys.                                              | `1`         | No       |
| **max**               | `number`                   | Maximum number in the input.                                                                                                             | `undefined` | No       |
| **min**               | `number`                   | Minimum number in the input.                                                                                                             | `undefined` | No       |
| **defaultValue**      | `number`                   | Initial number in the input.                                                                                                             | `0`         | No       |
| **hasSpinButtons**    | `boolean`                  | A boolean indicating whether to display the spin buttons.                                                                                | `true`      | No       |
| **disabled**          | `boolean`                  | When disabled, the input cannot be interacted with.                                                                                      | `false`     | No       |
| **required**          | `boolean`                  | When required, the input must be filled before form submission.                                                                          | `false`     | No       |
| **readOnly**          | `boolean`                  | When readonly, the input cannot be changed.                                                                                              | `false`     | No       |
| **id**                | `string`                   | The id global attribute defines an identifier (ID) which must be unique in the whole document.                                           | `undefined` | No       |
| **className**         | `string`                   | The class global attribute is a list of the classes of the element.                                                                      | `undefined` | No       |
| **style**             | `CSSProperties`            | The style global attribute contains CSS styling declarations to be applied to the element.                                               | `undefined` | No       |
| **tabIndex**          | `number`                   | The tabindex global attribute allows developers to make HTML elements focusable.                                                         | `undefined` | No       |
| **title**             | `string`                   | The title global attribute contains text representing advisory information related to the element it belongs to.                         | `undefined` | No       |

### Types

```ts
export type ChopLogicNumericInputProps = CommonInputProps & {
  errorMessage?: string;
  validator?: NumericValidationFunction;
  hasSpinButtons?: boolean;
  min?: number;
  max?: number;
  step?: number;
  readOnly?: boolean;
  defaultValue?: number;
  onSpinButtonClick?: (value?: number) => void;
  onChange?: React.ChangeEventHandler<HTMLInputElement>;
  onBlur?: React.FocusEventHandler<HTMLInputElement>;
  onFocus?: React.FocusEventHandler<HTMLInputElement>;
};

export type NumericValidationFunction = (input?: number) => boolean;

export type CommonInputProps = CommonComponentProps & {
  label: string;
  name: string;
  disabled?: boolean;
  required?: boolean;
};

export type CommonComponentProps = {
  id?: string;
  className?: string;
  style?: React.CSSProperties;
  tabIndex?: number;
  title?: string;
  theme?: 'dark' | 'light';
};
```
