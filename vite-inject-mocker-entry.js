var Se=Object.defineProperty,_e=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var z=(r,e,t)=>e in r?Se(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Q=(r,e)=>{for(var t in e||(e={}))be.call(e,t)&&z(r,t,e[t]);if(G)for(var t of G(e))Ie.call(e,t)&&z(r,t,e[t]);return r},ee=(r,e)=>_e(r,Ee(e));var x=(r,e,t)=>z(r,typeof e!="symbol"?e+"":e,t);var b=(r,e,t)=>new Promise((n,i)=>{var s=l=>{try{o(t.next(l))}catch(d){i(d)}},a=l=>{try{o(t.throw(l))}catch(d){i(d)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(r,e)).next())});import{_ as xe}from"./assets/preload-helper-Dp1pzeXC.js";class de{constructor(){x(this,"registryByUrl",new Map);x(this,"registryById",new Map)}clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,t,n,i,s){const a=typeof e=="object"?e.type:e;if(typeof e=="object"){const o=e;if(o instanceof D||o instanceof N||o instanceof U||o instanceof L)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${o.type}". Use "registry.add()" to update a mock instead.`);if(o.type==="automock"){const l=D.fromJSON(o);return this.add(l),l}else if(o.type==="autospy"){const l=N.fromJSON(o);return this.add(l),l}else if(o.type==="redirect"){const l=L.fromJSON(o);return this.add(l),l}else throw o.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${o.type}`)}if(typeof t!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof i!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof n!="string")throw new TypeError("[vitest] Mocks require an id string.");if(a==="manual"){if(typeof s!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");const o=new U(t,n,i,s);return this.add(o),o}else if(a==="automock"||a==="autospy"){const o=a==="automock"?new D(t,n,i):new N(t,n,i);return this.add(o),o}else if(a==="redirect"){if(typeof s!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");const o=new L(t,n,i,s);return this.add(o),o}else throw new Error(`[vitest] Unknown mock type: ${a}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}}class D{constructor(e,t,n){x(this,"type","automock");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new N(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}}class N{constructor(e,t,n){x(this,"type","autospy");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new N(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}class L{constructor(e,t,n,i){x(this,"type","redirect");this.raw=e,this.id=t,this.url=n,this.redirect=i}static fromJSON(e){return new L(e.raw,e.id,e.url,e.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}}class U{constructor(e,t,n,i){x(this,"cache");x(this,"type","manual");this.raw=e,this.id=t,this.url=n,this.factory=i}resolve(){return b(this,null,function*(){if(this.cache)return this.cache;let e;try{e=yield this.factory()}catch(t){const n=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw n.cause=t,n}if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=e})}static fromJSON(e,t){return new U(e.raw,e.id,e.url,t)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}function Te(r,e,t={}){const n=new Array,i=new $e,s=(l,d,g)=>{try{return l[d]=g,!0}catch(h){return!1}},a=(l,d)=>{const g=V(l),h=g==="Module"||!!l.__esModule;for(const{key:w,descriptor:T}of te(l,h,r.globalConstructors)){if(!h&&T.get){try{Object.defineProperty(d,w,T)}catch(A){}continue}if(Pe(w,g))continue;const m=l[w],c=i.getId(m);if(c!==void 0){n.push(()=>s(d,w,i.getMockedValue(c)));continue}const u=V(m);if(Array.isArray(m)){s(d,w,[]);continue}const $=u.includes("Function")&&typeof m=="function";if((!$||m._isMockFunction)&&u!=="Object"&&u!=="Module"){s(d,w,m);continue}if(s(d,w,$?m:{})){if($){let _=function(){if(this instanceof d[w])for(const{key:I,descriptor:O}of te(this,!1,r.globalConstructors)){if(O.get)continue;const J=this[I];if(V(J).includes("Function")&&typeof J=="function"){const B=this[I],f=A(this,I).mockImplementation(B),M=f.mockReset;f.mockRestore=f.mockReset=()=>(M.call(f),f.mockImplementation(B),f)}}};if(!r.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const A=r.spyOn,R=A(d,w);if(r.type==="automock"){R.mockImplementation(_);const I=R.mockReset;R.mockRestore=R.mockReset=()=>(I.call(R),R.mockImplementation(_),R)}Object.defineProperty(d[w],"length",{value:0})}i.track(m,d[w]),a(m,d[w])}}},o=t;a(e,o);for(const l of n)l();return o}class $e{constructor(){x(this,"idMap",new Map);x(this,"mockedValueMap",new Map)}getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,t){const n=this.idMap.size;return this.idMap.set(e,n),this.mockedValueMap.set(n,t),n}}function V(r){return Object.prototype.toString.apply(r).slice(8,-1)}function Pe(r,e){return e.includes("Function")&&typeof r=="string"&&["arguments","callee","caller","length","name"].includes(r)}function te(r,e,t){const{Map:n,Object:i,Function:s,RegExp:a,Array:o}=t,l=new n;let d=r;do{if(d===i.prototype||d===s.prototype||d===a.prototype)break;Me(d,g=>{const h=i.getOwnPropertyDescriptor(d,g);h&&l.set(g,{key:g,descriptor:h})})}while(d=i.getPrototypeOf(d));if(e&&!l.has("default")&&"default"in r){const g=i.getOwnPropertyDescriptor(r,"default");g&&l.set("default",{key:"default",descriptor:g})}return o.from(l.values())}function Me(r,e){const t=typeof e=="function"?e:n=>e.add(n);Object.getOwnPropertyNames(r).forEach(t),Object.getOwnPropertySymbols(r).forEach(t)}const Re=/^[A-Za-z]:\//;function pe(r=""){return r&&r.replace(/\\/g,"/").replace(Re,e=>e.toUpperCase())}const Ae=/^[/\\]{2}/,Oe=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Ce=/^[A-Za-z]:$/,Ne=/.(\.[^./]+|\.)$/,Le=function(r){if(r.length===0)return".";r=pe(r);const e=r.match(Ae),t=re(r),n=r[r.length-1]==="/";return r=Be(r,!t),r.length===0?t?"/":n?"./":".":(n&&(r+="/"),Ce.test(r)&&(r+="/"),e?t?`//${r}`:`//./${r}`:t&&!re(r)?`/${r}`:r)},Je=function(...r){let e="";for(const t of r)if(t)if(e.length>0){const n=e[e.length-1]==="/",i=t[0]==="/";n&&i?e+=t.slice(1):e+=n||i?t:`/${t}`}else e+=t;return Le(e)};function Be(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const re=function(r){return Oe.test(r)},Xe=function(r){if(r==="..")return"";const e=Ne.exec(pe(r));return e&&e[1]||""};var qe={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Fe=Object.entries(qe);function H(r){return String(r)}H.open="";H.close="";function De(r=!1){let e=typeof process!="undefined"?process:void 0,t=(e==null?void 0:e.env)||{},n=(e==null?void 0:e.argv)||[];return!("NO_COLOR"in t||n.includes("--no-color"))&&("FORCE_COLOR"in t||n.includes("--color")||(e==null?void 0:e.platform)==="win32"||r&&t.TERM!=="dumb"||"CI"in t)||typeof window!="undefined"&&!!window.chrome}function Ue(r=!1){let e=De(r),t=(a,o,l,d)=>{let g="",h=0;do g+=a.substring(h,d)+l,h=d+o.length,d=a.indexOf(o,h);while(~d);return g+a.substring(h)},n=(a,o,l=a)=>{let d=g=>{let h=String(g),w=h.indexOf(o,a.length);return~w?a+t(h,o,l,w)+o:a+h+o};return d.open=a,d.close=o,d},i={isColorSupported:e},s=a=>`\x1B[${a}m`;for(let[a,o]of Fe)i[a]=e?n(s(o[0]),s(o[1]),o[2]):H;return i}Ue();function he(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function me(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var W={exports:{}},k={};/**
* @license React
* react-is.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ne;function ze(){if(ne)return k;ne=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function m(c){if(typeof c=="object"&&c!==null){var u=c.$$typeof;switch(u){case r:switch(c=c.type,c){case t:case i:case n:case l:case d:case w:return c;default:switch(c=c&&c.$$typeof,c){case a:case o:case h:case g:return c;case s:return c;default:return u}}case e:return u}}}return k.ContextConsumer=s,k.ContextProvider=a,k.Element=r,k.ForwardRef=o,k.Fragment=t,k.Lazy=h,k.Memo=g,k.Portal=e,k.Profiler=i,k.StrictMode=n,k.Suspense=l,k.SuspenseList=d,k.isContextConsumer=function(c){return m(c)===s},k.isContextProvider=function(c){return m(c)===a},k.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===r},k.isForwardRef=function(c){return m(c)===o},k.isFragment=function(c){return m(c)===t},k.isLazy=function(c){return m(c)===h},k.isMemo=function(c){return m(c)===g},k.isPortal=function(c){return m(c)===e},k.isProfiler=function(c){return m(c)===i},k.isStrictMode=function(c){return m(c)===n},k.isSuspense=function(c){return m(c)===l},k.isSuspenseList=function(c){return m(c)===d},k.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===t||c===i||c===n||c===l||c===d||typeof c=="object"&&c!==null&&(c.$$typeof===h||c.$$typeof===g||c.$$typeof===a||c.$$typeof===s||c.$$typeof===o||c.$$typeof===T||c.getModuleId!==void 0)},k.typeOf=m,k}var ie;function Ve(){return ie||(ie=1,W.exports=ze()),W.exports}var ye=Ve(),We=me(ye),je=he({__proto__:null,default:We},[ye]),j={exports:{}},v={};/**
* @license React
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oe;function Ye(){if(oe)return v;oe=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function c(u){if(typeof u=="object"&&u!==null){var $=u.$$typeof;switch($){case r:switch(u=u.type,u){case t:case i:case n:case d:case g:return u;default:switch(u=u&&u.$$typeof,u){case o:case a:case l:case w:case h:case s:return u;default:return $}}case e:return $}}}return v.ContextConsumer=a,v.ContextProvider=s,v.Element=r,v.ForwardRef=l,v.Fragment=t,v.Lazy=w,v.Memo=h,v.Portal=e,v.Profiler=i,v.StrictMode=n,v.Suspense=d,v.SuspenseList=g,v.isAsyncMode=function(){return!1},v.isConcurrentMode=function(){return!1},v.isContextConsumer=function(u){return c(u)===a},v.isContextProvider=function(u){return c(u)===s},v.isElement=function(u){return typeof u=="object"&&u!==null&&u.$$typeof===r},v.isForwardRef=function(u){return c(u)===l},v.isFragment=function(u){return c(u)===t},v.isLazy=function(u){return c(u)===w},v.isMemo=function(u){return c(u)===h},v.isPortal=function(u){return c(u)===e},v.isProfiler=function(u){return c(u)===i},v.isStrictMode=function(u){return c(u)===n},v.isSuspense=function(u){return c(u)===d},v.isSuspenseList=function(u){return c(u)===g},v.isValidElementType=function(u){return typeof u=="string"||typeof u=="function"||u===t||u===i||u===n||u===d||u===g||u===T||typeof u=="object"&&u!==null&&(u.$$typeof===w||u.$$typeof===h||u.$$typeof===s||u.$$typeof===a||u.$$typeof===l||u.$$typeof===m||u.getModuleId!==void 0)},v.typeOf=c,v}var se;function Ke(){return se||(se=1,j.exports=Ye()),j.exports}var ge=Ke(),He=me(ge),Ze=he({__proto__:null,default:He},[ge]);const Ge=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(Ge.map(r=>[r,e=>Ze[r](e)||je[r](e)]));let Qe=()=>"Promise{…}";try{const{getPromiseDetails:r,kPending:e,kRejected:t}=process.binding("util");Array.isArray(r(Promise.resolve()))&&(Qe=(n,i)=>{const[s,a]=r(n);return s===e?"Promise{<pending>}":`Promise${s===t?"!":""}{${i.inspect(a,i)}}`})}catch(r){}function et(r){const{message:e="$$stack trace error",stackTraceLimit:t=1}=r||{},n=Error.stackTraceLimit,i=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=o=>o.stack;const a=new Error(e).stack||"";return Error.prepareStackTrace=i,Error.stackTraceLimit=n,a}var Y,ce;function tt(){if(ce)return Y;ce=1;var r,e,t,n,i,s,a,o,l,d,g,h,w,T,m,c,u,$,A;return w=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,h=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,r=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,m=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,g=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,c=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,A=/[\t\v\f\ufeff\p{Zs}]+/uy,o=/\r?\n|[\r\u2028\u2029]/y,l=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,T=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,e=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,$=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,u=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,d=RegExp(o.source),Y=function*(_,{jsx:R=!1}={}){var I,O,J,p,y,B,f,M,Z,P,X,S,q,E;for({length:B}=_,p=0,y="",E=[{tag:"JS"}],I=[],X=0,S=!1;p<B;){switch(M=E[E.length-1],M.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(_[p]==="/"&&($.test(y)||s.test(y))&&(w.lastIndex=p,f=w.exec(_))){p=w.lastIndex,y=f[0],S=!0,yield{type:"RegularExpressionLiteral",value:f[0],closed:f[1]!==void 0&&f[1]!=="\\"};continue}if(h.lastIndex=p,f=h.exec(_)){switch(q=f[0],Z=h.lastIndex,P=q,q){case"(":y==="?NonExpressionParenKeyword"&&E.push({tag:"JSNonExpressionParen",nesting:X}),X++,S=!1;break;case")":X--,S=!0,M.tag==="JSNonExpressionParen"&&X===M.nesting&&(E.pop(),P="?NonExpressionParenEnd",S=!1);break;case"{":h.lastIndex=0,J=!u.test(y)&&($.test(y)||s.test(y)),I.push(J),S=!1;break;case"}":switch(M.tag){case"InterpolationInTemplate":if(I.length===M.nesting){c.lastIndex=p,f=c.exec(_),p=c.lastIndex,y=f[0],f[1]==="${"?(y="?InterpolationInTemplate",S=!1,yield{type:"TemplateMiddle",value:f[0]}):(E.pop(),S=!0,yield{type:"TemplateTail",value:f[0],closed:f[1]==="`"});continue}break;case"InterpolationInJSX":if(I.length===M.nesting){E.pop(),p+=1,y="}",yield{type:"JSXPunctuator",value:"}"};continue}}S=I.pop(),P=S?"?ExpressionBraceEnd":"}";break;case"]":S=!0;break;case"++":case"--":P=S?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(R&&($.test(y)||s.test(y))){E.push({tag:"JSXTag"}),p+=1,y="<",yield{type:"JSXPunctuator",value:q};continue}S=!1;break;default:S=!1}p=Z,y=P,yield{type:"Punctuator",value:q};continue}if(r.lastIndex=p,f=r.exec(_)){switch(p=r.lastIndex,P=f[0],f[0]){case"for":case"if":case"while":case"with":y!=="."&&y!=="?."&&(P="?NonExpressionParenKeyword")}y=P,S=!s.test(f[0]),yield{type:f[1]==="#"?"PrivateIdentifier":"IdentifierName",value:f[0]};continue}if(m.lastIndex=p,f=m.exec(_)){p=m.lastIndex,y=f[0],S=!0,yield{type:"StringLiteral",value:f[0],closed:f[2]!==void 0};continue}if(g.lastIndex=p,f=g.exec(_)){p=g.lastIndex,y=f[0],S=!0,yield{type:"NumericLiteral",value:f[0]};continue}if(c.lastIndex=p,f=c.exec(_)){p=c.lastIndex,y=f[0],f[1]==="${"?(y="?InterpolationInTemplate",E.push({tag:"InterpolationInTemplate",nesting:I.length}),S=!1,yield{type:"TemplateHead",value:f[0]}):(S=!0,yield{type:"NoSubstitutionTemplate",value:f[0],closed:f[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=p,f=t.exec(_)){switch(p=t.lastIndex,P=f[0],f[0]){case"<":E.push({tag:"JSXTag"});break;case">":E.pop(),y==="/"||M.tag==="JSXTagEnd"?(P="?JSX",S=!0):E.push({tag:"JSXChildren"});break;case"{":E.push({tag:"InterpolationInJSX",nesting:I.length}),P="?InterpolationInJSX",S=!1;break;case"/":y==="<"&&(E.pop(),E[E.length-1].tag==="JSXChildren"&&E.pop(),E.push({tag:"JSXTagEnd"}))}y=P,yield{type:"JSXPunctuator",value:f[0]};continue}if(e.lastIndex=p,f=e.exec(_)){p=e.lastIndex,y=f[0],yield{type:"JSXIdentifier",value:f[0]};continue}if(n.lastIndex=p,f=n.exec(_)){p=n.lastIndex,y=f[0],yield{type:"JSXString",value:f[0],closed:f[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=p,f=i.exec(_)){p=i.lastIndex,y=f[0],yield{type:"JSXText",value:f[0]};continue}switch(_[p]){case"<":E.push({tag:"JSXTag"}),p++,y="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":E.push({tag:"InterpolationInJSX",nesting:I.length}),p++,y="?InterpolationInJSX",S=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(A.lastIndex=p,f=A.exec(_)){p=A.lastIndex,yield{type:"WhiteSpace",value:f[0]};continue}if(o.lastIndex=p,f=o.exec(_)){p=o.lastIndex,S=!1,a.test(y)&&(y="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:f[0]};continue}if(l.lastIndex=p,f=l.exec(_)){p=l.lastIndex,d.test(f[0])&&(S=!1,a.test(y)&&(y="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:f[0],closed:f[1]!==void 0};continue}if(T.lastIndex=p,f=T.exec(_)){p=T.lastIndex,S=!1,yield{type:"SingleLineComment",value:f[0]};continue}O=String.fromCodePoint(_.codePointAt(p)),p+=O.length,y=O,S=!1,yield{type:M.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:O}}},Y}tt();var ve={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(ve.keyword);new Set(ve.strict);const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt=new Uint8Array(64),nt=new Uint8Array(128);for(let r=0;r<ae.length;r++){const e=ae.charCodeAt(r);rt[r]=e,nt[e]=r}var le;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="RelativePath",r[r.AbsolutePath=5]="AbsolutePath",r[r.SchemeRelative=6]="SchemeRelative",r[r.Absolute=7]="Absolute"})(le||(le={}));const it=/^[A-Za-z]:\//;function ot(r=""){return r&&r.replace(/\\/g,"/").replace(it,e=>e.toUpperCase())}const st=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function ct(){return typeof process!="undefined"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const at=function(...r){r=r.map(n=>ot(n));let e="",t=!1;for(let n=r.length-1;n>=-1&&!t;n--){const i=n>=0?r[n]:ct();!i||i.length===0||(e=`${i}/${e}`,t=ue(i))}return e=lt(e,!t),t&&!ue(e)?`/${e}`:e.length>0?e:"."};function lt(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const ue=function(r){return st.test(r)},we=/^\s*at .*(?:\S:\d+|\(native\))/m,ut=/^(?:eval@)?(?:\[native code\])?$/;function ke(r){if(!r.includes(":"))return[r];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/^\(|\)$/g,""));if(!t)return[r];let n=t[1];if(n.startsWith("async ")&&(n=n.slice(6)),n.startsWith("http:")||n.startsWith("https:")){const i=new URL(n);i.searchParams.delete("import"),i.searchParams.delete("browserv"),n=i.pathname+i.hash+i.search}if(n.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(n);n=n.slice(i?5:4)}return[n,t[2]||void 0,t[3]||void 0]}function ft(r){let e=r.trim();if(ut.test(e)||(e.includes(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!e.includes("@")&&!e.includes(":")))return null;const t=/((.*".+"[^@]*)?[^@]*)(@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,[s,a,o]=ke(e.replace(t,""));return!s||!a||!o?null:{file:s,method:i||"",line:Number.parseInt(a),column:Number.parseInt(o)}}function dt(r){const e=r.trim();return we.test(e)?pt(e):ft(e)}function pt(r){let e=r.trim();if(!we.test(e))return null;e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;const[i,s,a]=ke(n?n[1]:t);let o=n&&t||"",l=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!l||!s||!a?null:(o.startsWith("async ")&&(o=o.slice(6)),l.startsWith("file://")&&(l=l.slice(7)),l=l.startsWith("node:")||l.startsWith("internal:")?l:at(l),o&&(o=o.replace(/__vite_ssr_import_\d+__\./g,"")),{method:o,file:l,line:Number.parseInt(s),column:Number.parseInt(a)})}function ht(r){const e=(r==null?void 0:r.globalThisKey)||"__vitest_mocker__";function t(){return typeof globalThis[e]!="undefined"?globalThis[e]:new Proxy({},{get(i,s){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(s)}() is forbidden.`)}})}return{hoisted(i){if(typeof i!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof i}`);return i()},mock(i,s){if(typeof i!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof i}`);const a=C("mock");t().queueMock(i,a,typeof s=="function"?()=>s(()=>t().importActual(i,a)):s)},unmock(i){if(typeof i!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof i}`);t().queueUnmock(i,C("unmock"))},doMock(i,s){if(typeof i!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof i}`);const a=C("doMock");t().queueMock(i,a,typeof s=="function"?()=>s(()=>t().importActual(i,a)):s)},doUnmock(i){if(typeof i!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof i}`);t().queueUnmock(i,C("doUnmock"))},importActual(i){return b(this,null,function*(){return t().importActual(i,C("importActual"))})},importMock(i){return b(this,null,function*(){return t().importMock(i,C("importMock"))})}}}function C(r){const t=et({stackTraceLimit:5}).split(`
`),n=t.findIndex(s=>s.includes(` at Object.${r}`)||s.includes(`${r}@`)),i=dt(t[n+1]);return(i==null?void 0:i.file)||""}const{now:fe}=Date;class mt{constructor(e,t,n,i){x(this,"registry",new de);x(this,"queue",new Set);x(this,"mockedIds",new Set);this.interceptor=e,this.rpc=t,this.spyOn=n,this.config=i}prepare(){return b(this,null,function*(){this.queue.size&&(yield Promise.all([...this.queue.values()]))})}resolveFactoryModule(e){return b(this,null,function*(){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return yield t.resolve()})}getFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}invalidate(){return b(this,null,function*(){const e=Array.from(this.mockedIds);e.length&&(yield this.rpc.invalidate(e),yield this.interceptor.invalidate(),this.registry.clear())})}importActual(e,t){return b(this,null,function*(){const n=yield this.rpc.resolveId(e,t);if(n==null)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${t}"`);const i=Xe(n.id),s=new URL(n.url,location.href),a=`_vitest_original&ext${i}`,o=`${s.pathname}${s.search?`${s.search}&${a}`:`?${a}`}${s.hash}`;return this.wrapDynamicImport(()=>import(o)).then(l=>{if(!n.optimized||typeof l.default=="undefined")return l;const d=l.default;return d!=null&&d.__esModule?d:ee(Q({},typeof d=="object"&&!Array.isArray(d)||typeof d=="function"?d:{}),{default:d})})})}importMock(e,t){return b(this,null,function*(){yield this.prepare();const{resolvedId:n,resolvedUrl:i,redirectUrl:s}=yield this.rpc.resolveMock(e,t,{mock:"auto"}),a=this.resolveMockPath(F(i));let o=this.registry.get(a);if(!o)if(s){const l=new URL(this.resolveMockPath(F(s)),location.href).toString();o=new L(e,n,a,l)}else o=new D(e,n,a);if(o.type==="manual")return yield o.resolve();if(o.type==="automock"||o.type==="autospy"){const l=new URL(`/@id/${n}`,location.href),d=l.search?`${l.search}&t=${fe()}`:`?t=${fe()}`,g=yield xe(()=>import(`${l.pathname}${d}&mock=${o.type}${l.hash}`),[],import.meta.url);return this.mockObject(g,o.type)}return import(o.redirect)})}mockObject(e,t="automock"){return Te({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},e)}queueMock(e,t,n){const i=this.rpc.resolveMock(e,t,{mock:typeof n=="function"?"factory":n!=null&&n.spy?"spy":"auto"}).then(g=>b(this,[g],function*({redirectUrl:s,resolvedId:a,resolvedUrl:o,needsInterop:l,mockType:d}){const h=this.resolveMockPath(F(o));this.mockedIds.add(a);const w=typeof n=="function"?()=>b(this,null,function*(){const c=yield n();return l?{default:c}:c}):void 0,T=typeof s=="string"?new URL(this.resolveMockPath(F(s)),location.href).toString():null;let m;d==="manual"?m=this.registry.register("manual",e,a,h,w):d==="autospy"?m=this.registry.register("autospy",e,a,h):d==="redirect"?m=this.registry.register("redirect",e,a,h,T):m=this.registry.register("automock",e,a,h),yield this.interceptor.register(m)})).finally(()=>{this.queue.delete(i)});this.queue.add(i)}queueUnmock(e,t){const n=this.rpc.resolveId(e,t).then(i=>b(this,null,function*(){if(!i)return;const s=this.resolveMockPath(F(i.url));this.mockedIds.add(i.id),this.registry.delete(s),yield this.interceptor.delete(s)})).finally(()=>{this.queue.delete(n)});this.queue.add(n)}wrapDynamicImport(e){return typeof e=="function"?new Promise((n,i)=>{this.prepare().finally(()=>{e().then(n,i)})}):e}resolveMockPath(e){const t=this.config,n=Je("/@fs/",t.root);return e.startsWith(t.root)?e.slice(t.root.length):e.startsWith(n)?e.slice(n.length):e}}const yt=/(\?|&)v=\w{8}/;function F(r){return r.replace(yt,"")}class gt{constructor(){x(this,"mocks",new de)}register(e){return b(this,null,function*(){this.mocks.add(e)})}delete(e){return b(this,null,function*(){this.mocks.delete(e)})}invalidate(){return b(this,null,function*(){this.mocks.clear()})}}const K=r=>{switch(r){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}};class vt extends mt{queueMock(){}}function wt(r){const e=new vt(r("__vitest_mocker__"),{resolveId(n,i){return K("resolveId")},resolveMock(n,i,s){return K("resolveMock")},invalidate(n){return b(this,null,function*(){return K("invalidate")})}},(...n)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...n),{root:""});return globalThis.__vitest_mocker__=e,ht({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=wt(()=>new gt);
